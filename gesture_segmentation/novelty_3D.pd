#N canvas 564 22 756 420 12;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib smlib;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X obj 239 31 unpack f f f;
#X obj 239 121 s \$0-raw_x;
#X obj 279 91 s \$0-raw_y;
#X obj 320 61 s \$0-raw_z;
#X obj 239 1 inlet x y z;
#X obj 433 31 loadbang;
#X obj 599 1 inlet reset;
#X obj 599 121 s \$0-reset;
#X obj 599 61 r \$0-reset_bng_snd;
#X obj 413 311 s \$0-abs_tgl_rcv;
#X obj 239 310 pack f f f;
#X obj 239 210 r \$0-int_x;
#X obj 272 240 r \$0-int_y;
#X obj 306 270 r \$0-int_z;
#X obj -1 341 outlet pk;
#X obj 99 341 outlet nov;
#X obj 99 311 r \$0-nov;
#X obj -1 311 r \$0-pk;
#X obj 118 154 vradio 15 1 0 4 \$0-fsel_snd \$0-fsel_rcv empty 0 -8
0 10 -262144 -1 -1 2;
#X text 84 150 none;
#X text 90 196 sum;
#X text 78 165 Gauss;
#X obj 56 175 tgl 15 0 \$0-abs_tgl_snd \$0-abs_tgl_rcv empty 17 7 0
10 -262144 -66577 -1 1 1;
#X text 6 172 module;
#X text 84 181 mean;
#X text 7 151 FILTER;
#X obj 150 168 vradio 15 1 0 3 \$0-dsel_snd \$0-dsel_rcv empty 0 -8
0 10 -262144 -1 -1 0;
#X text 168 182 taxi.;
#X text 168 197 cosi.;
#X text 148 150 DISTANCE;
#X obj 413 1 inlet parameters;
#X text 532 310 module tgl;
#X text 527 281 window size;
#X text 558 251 filter;
#X text 583 221 distance;
#X obj 486 221 s \$0-dsel_rcv;
#X text 642 191 peak threshold;
#N canvas 0 22 434 348 parameters_list 0;
#X obj 97 103 t b a;
#X obj 17 13 r \$0-abs_tgl_snd;
#X obj 37 73 t b a;
#X obj 17 314 s \$0-parameters;
#X obj 97 73 r \$0-fsel_snd;
#X obj 37 43 r \$0-w_a_snd;
#X obj 307 204 t b a;
#X obj 307 173 r \$0-pt_a_snd;
#X obj 207 43 r \$0-dsel_snd;
#X obj 207 73 select 0 1 2;
#X msg 367 123 cosine;
#X msg 287 123 cityblock;
#X msg 207 123 euclidean;
#X obj 207 203 t b a;
#X obj 207 173 symbol;
#X obj 17 284 pack 1 1 0 s f;
#X connect 0 0 15 0;
#X connect 0 1 15 2;
#X connect 1 0 15 0;
#X connect 2 0 15 0;
#X connect 2 1 15 1;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 15 0;
#X connect 6 1 15 4;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 12 0;
#X connect 9 1 11 0;
#X connect 9 2 10 0;
#X connect 10 0 14 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 13 1 15 3;
#X connect 14 0 13 0;
#X connect 15 0 3 0;
#X restore -1 228 pd parameters_list;
#X text 275 377 Juan Ignacio Mendoza - 2018;
#X obj 462 251 s \$0-fsel_rcv;
#X obj 437 281 s \$0-w_a_rcv;
#X text 168 166 Eucl.;
#X obj 239 340 outlet filtered;
#X obj 118 118 vradio 15 1 0 2 \$0-method_sel_snd \$0-method_sel_rcv
empty 0 -8 0 10 -262144 -1 -1 0;
#X text 83 116 slow;
#X text 84 131 fast;
#X text 53 122 nov.;
#X obj 413 121 unpack f f f f f f;
#X obj 536 161 s \$0-method_sel_rcv;
#X text 676 161 method;
#N canvas 424 287 468 566 filter_segmentation 0;
#X obj -81 -81 r \$0-raw_x;
#X obj 19 -81 r \$0-raw_y;
#X obj 119 -81 r \$0-raw_z;
#X obj 217 439 s \$0-nov;
#N canvas 358 522 246 214 peaks 0;
#X obj 15 16 inlet y;
#X obj 47 176 outlet;
#X obj 15 46 local_max;
#X obj 112 16 inlet threshold;
#X obj 15 136 moses;
#X connect 0 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 1 1 0;
#X restore 293 409 pd peaks;
#X obj 293 439 s \$0-pk;
#X obj 267 379 average;
#X obj 313 339 / 2;
#X obj 129 339 autoscale 0 1;
#X obj 217 309 r \$0-reset;
#X obj 202 -82 r \$0-parameters;
#X obj 35 9 pack f f f;
#X obj 238 219 pack f s;
#X msg 313 309 \$1;
#X obj -81 49 multifilter;
#X obj 19 49 multifilter;
#X obj 119 49 multifilter;
#N canvas 862 173 578 362 slow_novelty_xyz 0;
#X text -167 5 1) x y z signals;
#X text -167 20 2) window size and distance selection;
#X text -168 70 5) convolution with checkerboard gaussian kernel (c.f.
Foote & Cooper \, 2003);
#X text -167 53 4) cityblock \, euclidean or cosine distance;
#X text -167 37 3) square window;
#X obj 274 18 import iemmatrix;
#X obj -34 110 inlet x;
#X obj 26 110 inlet y;
#X obj 86 110 inlet z;
#X text 246 110 2);
#X obj 200 170 s \$0-w;
#X obj 257 170 s \$0-dist;
#X obj -164 328 outlet novelty;
#X obj 190 110 inlet w distance;
#X text -59 110 (1);
#X text 160 111 (2);
#X text -44 169 (3);
#X text 159 248 (4);
#X text -86 298 (5);
#X obj 190 140 unpack f s;
#N canvas 275 426 370 269 convo_1 0;
#X obj 130 95 mtx_conv;
#X obj 17 15 inlet distance matrix;
#X obj 183 15 inlet kernel matrix;
#X obj 188 225 outlet;
#X obj 130 125 mtx_diag;
#X obj 130 155 list split 7;
#X obj 188 185 unpack f;
#X obj 247 65 route matrix;
#X obj 247 95 unpack f;
#X obj 247 125 - 1;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 0 1;
#X connect 2 0 7 0;
#X connect 4 0 5 0;
#X connect 5 1 6 0;
#X connect 6 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X restore -164 298 pd convo_1;
#X obj 190 248 gaussian_checkerboard_kernel;
#X obj 90 328 outlet d;
#X obj 190 328 outlet K;
#N canvas 0 22 231 237 mtx_cityblock 0;
#X obj 137 -6 inlet;
#X obj 37 44 spigot;
#X obj 37 174 outlet;
#X obj 37 -6 r \$0_sw_xyz;
#X obj 37 104 t a a;
#X obj 37 134 mtx_distance2;
#X obj 37 74 mtx_.^ 0.5;
#X connect 0 0 1 1;
#X connect 1 0 6 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 2 0;
#X connect 6 0 4 0;
#X restore -164 218 pd mtx_cityblock;
#N canvas 177 484 225 212 mtx_euclidean 0;
#X obj 157 14 inlet;
#X obj 57 64 spigot;
#X obj 57 154 outlet;
#X obj 57 14 r \$0_sw_xyz;
#X obj 57 94 t a a;
#X obj 57 124 mtx_distance;
#X connect 0 0 1 1;
#X connect 1 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 2 0;
#X restore -37 218 pd mtx_euclidean;
#N canvas 546 275 255 625 mtx_cosine 0;
#X obj 107 4 inlet;
#X obj 7 44 spigot;
#X obj 7 544 outlet;
#X obj 7 4 r \$0_sw_xyz;
#X obj 46 134 t a a;
#X obj 46 164 mtx_.*;
#X obj 46 224 mtx_sum;
#X obj 46 334 mtx_repmat 1 3;
#X obj 7 74 t a a;
#X obj 7 394 t a a;
#X obj 39 424 mtx_transpose;
#X obj 7 454 mtx_*;
#X obj 7 484 mtx_.* -1;
#X obj 7 514 mtx_+ 1;
#X obj 46 304 mtx_.^ 0.5;
#X obj 7 365 mtx_./;
#X obj 46 274 mtx;
#X obj 46 194 mtx_transpose;
#X obj 160 4 r \$0-w;
#X msg 160 194 \$1 1;
#X obj 160 224 mtx_zeros;
#X obj 46 104 mtx_+ 1e-09;
#X connect 0 0 1 1;
#X connect 1 0 8 0;
#X connect 3 0 1 0;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 17 0;
#X connect 6 0 16 0;
#X connect 7 0 15 1;
#X connect 8 0 15 0;
#X connect 8 1 21 0;
#X connect 9 0 11 0;
#X connect 9 1 10 0;
#X connect 10 0 11 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 2 0;
#X connect 14 0 7 0;
#X connect 15 0 9 0;
#X connect 16 0 14 0;
#X connect 17 0 6 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 16 1;
#X connect 21 0 4 0;
#X restore 90 218 pd mtx_cosine;
#N canvas 205 107 384 265 square_window_xyz 0;
#X obj 297 4 inlet size;
#X obj 5 4 inlet x;
#X obj 107 4 inlet y;
#X obj 209 4 inlet z;
#X obj 5 133 square_window;
#X obj 107 133 square_window;
#X obj 209 133 square_window;
#X obj 107 163 mtx_concat rows;
#X obj 5 193 mtx_concat rows;
#X obj 5 224 s \$0_sw_xyz;
#X connect 0 0 4 1;
#X connect 0 0 5 1;
#X connect 0 0 6 1;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 6 0;
#X connect 4 0 8 0;
#X connect 5 0 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 1;
#X connect 8 0 9 0;
#X restore -19 169 pd square_window_xyz;
#N canvas 85 22 303 253 switcher_xyz 0;
#X obj -5 69 route cityblock euclidean cosine;
#X obj -45 209 outlet ctb;
#X obj 55 209 outlet euc;
#X obj 155 209 outlet cos;
#X msg -5 169 1;
#X msg -45 169 0;
#X msg 95 169 1;
#X msg 55 169 0;
#X msg 195 169 1;
#X msg 155 169 0;
#X msg -5 39 \$1;
#X obj 508 180 s \$0-dist;
#X obj -5 9 r \$0-dist;
#X connect 0 0 4 0;
#X connect 0 0 7 0;
#X connect 0 0 9 0;
#X connect 0 1 6 0;
#X connect 0 1 5 0;
#X connect 0 1 9 0;
#X connect 0 2 5 0;
#X connect 0 2 7 0;
#X connect 0 2 8 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 2 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 0 0;
#X connect 12 0 10 0;
#X restore -164 169 pd switcher_xyz;
#X obj 118 140 r \$0-w;
#X obj 274 48 import hexloader;
#X connect 6 0 27 0;
#X connect 7 0 27 1;
#X connect 8 0 27 2;
#X connect 13 0 19 0;
#X connect 19 0 10 0;
#X connect 19 0 21 0;
#X connect 19 1 11 0;
#X connect 20 0 12 0;
#X connect 21 0 20 1;
#X connect 21 0 23 0;
#X connect 24 0 22 0;
#X connect 24 0 20 0;
#X connect 25 0 22 0;
#X connect 25 0 20 0;
#X connect 26 0 22 0;
#X connect 26 0 20 0;
#X connect 28 0 24 0;
#X connect 28 1 25 0;
#X connect 28 2 26 0;
#X connect 29 0 27 3;
#X restore -15 279 pd slow_novelty_xyz;
#X obj 129 279 fast_novelty_xyz;
#X obj -81 159 s \$0-int_x;
#X obj 19 159 s \$0-int_y;
#X obj 119 159 s \$0-int_z;
#N canvas 85 30 563 241 method_switch 0;
#X obj 174 10 r \$0-int_x;
#X obj 26 40 + 1;
#X obj 135 140 gate 2;
#X obj 294 10 r \$0-int_y;
#X obj 414 10 r \$0-int_z;
#X obj 255 140 gate 2;
#X obj 375 140 gate 2;
#X obj 123 200 outlet;
#X obj 183 200 outlet;
#X obj 243 200 outlet;
#X obj 303 200 outlet;
#X obj 363 200 outlet;
#X obj 423 200 outlet;
#X obj 26 10 inlet method_sel;
#X obj 26 200 s \$0-reset;
#X obj 26 170 bang;
#X connect 0 0 2 1;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 1 0 15 0;
#X connect 2 0 7 0;
#X connect 3 0 5 1;
#X connect 4 0 6 1;
#X connect 5 0 8 0;
#X connect 6 0 9 0;
#X connect 13 0 1 0;
#X connect 15 0 14 0;
#X restore 45 219 pd method_switch;
#X obj -81 189 r \$0-method_sel_snd;
#X obj 93 399 vradio 20 1 0 3 \$0-ns_select_mv_snd \$0-ns_select_mv_rcv
empty 0 -8 0 10 -262144 -1 -1 0;
#X obj -81 439 tgl 20 0 \$0-ns_select_mv_norm_snd \$0-ns_select_mv_norm_rcv
empty 17 7 0 10 -262144 -1 -1 0 1;
#X text 60 399 none;
#X text 32 419 distance;
#X text 47 438 kernel;
#X text -59 437 normalise;
#X obj 202 -52 unpack f f f symbol f;
#X obj -81 369 expr 1-$f1;
#X obj -81 299 spigot;
#N canvas 155 274 573 452 visualise_matrix 0;
#X obj -3 16 inlet d;
#X obj 87 16 inlet K;
#X obj 280 286 mtx;
#X obj -3 266 spigot;
#X msg 30 226 1;
#X msg 80 226 0;
#X obj 177 56 select 0 1 2;
#X msg 177 187 0;
#X msg 216 237 1;
#X obj 337 216 bang;
#X obj 337 186 spigot;
#X msg 370 146 1;
#X msg 420 146 0;
#X obj 216 396 heatmap;
#X obj 177 16 r \$0-ns_select_mv_snd;
#X obj 337 16 r \$0-ns_select_mv_norm_snd;
#X connect 0 0 3 0;
#X connect 1 0 2 1;
#X connect 2 0 13 2;
#X connect 3 0 13 2;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 6 1 4 0;
#X connect 6 1 12 0;
#X connect 6 2 2 0;
#X connect 6 2 5 0;
#X connect 6 2 8 0;
#X connect 6 2 11 0;
#X connect 7 0 5 0;
#X connect 7 0 13 0;
#X connect 8 0 13 0;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 14 0 6 0;
#X connect 15 0 10 0;
#X connect 15 0 13 1;
#X restore -35 339 pd visualise_matrix;
#X msg -42 249 0;
#X obj -42 219 loadbang;
#X text -5 370 VISUALISE MATRIX:;
#X connect 0 0 14 0;
#X connect 1 0 15 0;
#X connect 2 0 16 0;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 6 0 3 0;
#X connect 7 0 6 1;
#X connect 8 0 6 0;
#X connect 9 0 8 3;
#X connect 11 0 14 1;
#X connect 11 0 15 1;
#X connect 11 0 16 1;
#X connect 12 0 13 0;
#X connect 12 0 18 3;
#X connect 12 0 17 3;
#X connect 13 0 7 0;
#X connect 14 0 19 0;
#X connect 15 0 20 0;
#X connect 16 0 21 0;
#X connect 17 0 8 0;
#X connect 17 1 33 0;
#X connect 17 2 33 1;
#X connect 18 0 8 0;
#X connect 22 0 17 0;
#X connect 22 1 17 1;
#X connect 22 2 17 2;
#X connect 22 3 18 0;
#X connect 22 4 18 1;
#X connect 22 5 18 2;
#X connect 23 0 22 0;
#X connect 23 0 32 0;
#X connect 30 0 11 0;
#X connect 30 1 11 1;
#X connect 30 1 12 0;
#X connect 30 2 11 2;
#X connect 30 3 12 1;
#X connect 30 4 4 1;
#X connect 31 0 25 0;
#X connect 31 0 24 0;
#X connect 32 0 31 0;
#X connect 34 0 32 1;
#X connect 35 0 34 0;
#X restore -1 261 pd filter_segmentation;
#X obj 0 4 cnv 15 210 102 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 2 6 cnv 15 206 98 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 125 9 bng 21 250 50 0 foo_snd \$0-pk empty 12 14 0 10 -1 -204786
-262144;
#X obj 136 36 vsl 21 61 0 1 0 0 foo_snd \$0-int_x x 7 14 0 14 -261234
-1 -1 0 1;
#X obj 159 36 vsl 21 61 0 1 0 0 foo_snd \$0-int_y y 7 14 0 14 -262130
-1 -1 0 1;
#X obj 182 36 vsl 21 61 0 1 0 0 foo_snd \$0-int_z z 7 14 0 14 -204786
-1 -1 0 1;
#X obj 117 36 vsl 17 61 0 1 0 0 foo_snd \$0-nov pk. 1 16 0 9 -66577
-204800 -162280 0 1;
#X obj 99 36 vsl 17 61 0 1 0 0 \$0-pt_a_rcv \$0-pt_slider_rcv th. 0
16 0 9 -262144 -258113 -128992 1200 1;
#X floatatom 72 81 3 0 0 0 - #0-w_a_rcv #0-w_a_snd;
#X text 23 81 window;
#X obj 72 34 bng 18 250 50 0 \$0-reset_bng_snd \$0-reset_bng_rcv empty
17 7 0 10 -258113 -1 -1;
#X text 33 32 reset;
#X floatatom 72 57 3 0 0 0 - #0-pt_a_rcv #0-pt_a_snd;
#X text 3 57 threshold;
#X obj 6 10 cnv 15 30 10 empty empty NOVELTY_3D 0 10 1 14 -262144 -99865
0;
#X text 137 121 METHOD;
#X msg 433 61 1 10 2 0 0.2 0;
#X obj 511 191 s \$0-pt_slider_rcv;
#X obj 599 31 s \$0-reset_bng_rcv;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 3 0;
#X connect 4 0 0 0;
#X connect 5 0 67 0;
#X connect 6 0 69 0;
#X connect 8 0 7 0;
#X connect 8 0 47 0;
#X connect 10 0 42 0;
#X connect 11 0 10 0;
#X connect 12 0 10 1;
#X connect 13 0 10 2;
#X connect 16 0 15 0;
#X connect 17 0 14 0;
#X connect 30 0 47 0;
#X connect 47 0 9 0;
#X connect 47 1 40 0;
#X connect 47 2 39 0;
#X connect 47 3 35 0;
#X connect 47 4 68 0;
#X connect 47 5 48 0;
#X connect 67 0 47 0;
#X coords 0 -1 1 1 210 110 2 0 0;
