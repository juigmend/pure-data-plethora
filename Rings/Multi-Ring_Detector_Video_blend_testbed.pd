#N canvas 746 23 752 672 16;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X declare -lib smlib;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X text -143 641 Juan Ignacio Mendoza Garay - 2018;
#X floatatom -155 64 5 0 0 0 - - -;
#X floatatom 2 345 5 0 0 0 - - -;
#X obj -342 65 vradio 20 1 1 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj -242 486 bng 19 250 50 0 empty empty ready 20 10 0 14 -99865
-4034 -1;
#N canvas 1134 332 385 272 mtx_trace 0;
#X obj -47 15 inlet x y;
#X obj 163 85 i;
#X obj -46 205 outlet matrix;
#X obj -46 45 t b a b;
#X obj 163 15 r \$0-img_w;
#X obj -46 165 mtx;
#X msg -13 95 element \$2 \$1 1;
#X obj 163 115 mtx_zeros;
#X connect 0 0 3 0;
#X connect 1 0 7 0;
#X connect 3 0 5 0;
#X connect 3 1 6 0;
#X connect 3 2 1 0;
#X connect 4 0 1 0;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 7 0 5 1;
#X restore -302 315 pd mtx_trace;
#X obj -302 204 tgl 15 0 empty empty empty -31 7 0 10 -66577 -262144
-1 1 1;
#N canvas 888 172 515 629 mouse 0;
#X obj 80 413 import list-abs;
#X obj -248 -116 inlet;
#X obj -175 455 outlet;
#X obj -248 -26 cursor;
#X obj -248 54 route x y;
#X obj -248 14 route motion button;
#X obj -175 414 pack f f;
#X obj -248 323 autoscale;
#X obj 43 323 autoscale;
#X obj -248 363 i;
#X obj 43 363 i;
#X obj 150 53 1;
#X obj 43 -26 i;
#X obj -108 -116 inlet invert;
#X obj -248 -76 t a b;
#X obj -108 -76 s \$0-m_inv;
#X obj -205 84 s \$0-m_y;
#X obj 43 53 s \$0-m_w;
#X obj -190 243 r \$0-m_w;
#X obj 150 83 s \$0-m_1;
#X obj -219 213 r \$0-m_1;
#X obj 72 213 r \$0-m_w;
#X obj 101 243 r \$0-m_1;
#X obj -108 53 r \$0-m_inv;
#X obj 43 13 trigger a b;
#X obj 43 183 inverter;
#X obj 120 153 r \$0-m_w;
#X obj 81 123 r \$0-m_1;
#X obj -51 93 r \$0-m_y;
#X obj -108 143 gate_2;
#X obj -108 83 + 1;
#X obj 101 273 t a b;
#X obj 43 -116 r \$0-img_w;
#X connect 1 0 14 0;
#X connect 3 0 5 0;
#X connect 4 0 7 0;
#X connect 4 1 16 0;
#X connect 5 0 4 0;
#X connect 6 0 2 0;
#X connect 7 0 9 0;
#X connect 8 0 10 0;
#X connect 9 0 6 0;
#X connect 10 0 6 1;
#X connect 11 0 19 0;
#X connect 12 0 24 0;
#X connect 13 0 15 0;
#X connect 14 0 3 0;
#X connect 14 1 12 0;
#X connect 18 0 7 2;
#X connect 20 0 7 1;
#X connect 21 0 8 1;
#X connect 22 0 31 0;
#X connect 23 0 30 0;
#X connect 24 0 17 0;
#X connect 24 1 11 0;
#X connect 25 0 8 0;
#X connect 26 0 25 2;
#X connect 27 0 25 1;
#X connect 28 0 29 1;
#X connect 29 0 8 0;
#X connect 29 1 25 0;
#X connect 30 0 29 0;
#X connect 31 0 8 2;
#X connect 31 1 8 3;
#X connect 32 0 12 0;
#X restore -302 275 pd mouse;
#X floatatom -302 559 3 0 0 0 - - -;
#X obj -302 589 bng 30 250 50 0 empty empty empty 17 7 0 10 -99865
-204800 -1;
#X obj -282 347 bng 19 100 10 0 empty empty ready 20 10 0 14 -99865
-4034 -1;
#X obj -342 406 i;
#X obj -205 135 bang;
#X obj -252 516 s \$0-c;
#X obj -292 375 s \$0-p;
#X obj -225 244 tgl 15 0 empty empty empty -38 7 0 10 -66577 -260097
-1 1 1;
#X text -338 31 within one of several rings.;
#N canvas 765 556 1053 285 rings_detector 0;
#X obj 114 55 r \$0-img_w;
#X obj 156 85 r \$0-rings_pos;
#X obj 199 115 r \$0-rings_w;
#X obj 72 15 inlet image matrix;
#X obj 72 153 mtx_whichring;
#X obj 386 225 outlet cone;
#X obj 236 225 outlet matrix;
#X obj -117 224 outlet index;
#X text -122 253 -------- detected ring --------;
#X text 242 253 created ring;
#X obj 23 224 print index_state;
#X connect 0 0 4 1;
#X connect 1 0 4 2;
#X connect 2 0 4 3;
#X connect 3 0 4 0;
#X connect 4 0 7 0;
#X connect 4 1 10 0;
#X connect 4 3 6 0;
#X connect 4 4 5 0;
#X restore -302 406 pd rings_detector;
#N canvas 532 658 300 168 rings_control 0;
#X obj 26 15 inlet;
#X obj 96 15 inlet;
#X obj -48 15 inlet;
#X obj -48 115 s \$0-img_w;
#X obj 26 85 s \$0-rings_pos;
#X obj 96 55 s \$0-rings_w;
#X obj -48 85 f;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 6 0 3 0;
#X restore -155 375 pd rings_control;
#N canvas 607 608 471 432 multiplex 0;
#X obj -12 367 outlet;
#X obj -162 27 inlet control;
#X obj -12 317 spigot;
#X msg -5 283 1;
#X msg 45 283 0;
#X obj 128 317 spigot;
#X msg 135 283 1;
#X msg 185 283 0;
#X obj -12 28 inlet data_0;
#X obj 128 28 inlet data_1;
#X obj -162 67 select 0 1;
#X connect 1 0 10 0;
#X connect 2 0 0 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 0 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 2 0;
#X connect 9 0 5 0;
#X connect 10 0 3 0;
#X connect 10 0 7 0;
#X connect 10 1 4 0;
#X connect 10 1 6 0;
#X restore -252 456 pd multiplex;
#X msg -17 255 0.3 0.6;
#X msg 3 285 0.5;
#X text -320 62 rings;
#X text 1 323 width of rings as a fraction of radius;
#X text -80 139 position of each ring as a fraction of radius;
#X msg -77 165 0.1 0.2 0.3 0.4 0.5 0.6 0.7 0.8 0.9;
#N canvas 613 413 449 368 make_equally_spaced_rings 0;
#X obj 41 323 outlet;
#X obj 78 113 until;
#X obj 78 193 cup;
#X obj 338 263 t l;
#X obj 41 293 list;
#X obj 78 233 *;
#X obj 78 263 list prepend;
#X msg 148 113 1;
#X obj 145 193 expr 1/($f1+1);
#X obj 41 13 inlet;
#X obj -29 13 inlet;
#X obj 41 64 trigger bang any bang any bang;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 6 1;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 6 0 4 1;
#X connect 7 0 2 0;
#X connect 8 0 5 1;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 11 0 4 0;
#X connect 11 1 1 0;
#X connect 11 2 7 0;
#X connect 11 3 8 0;
#X connect 11 4 3 0;
#X restore -125 105 pd make_equally_spaced_rings;
#X floatatom 152 75 5 0 0 0 - - -;
#X text -338 11 Detects whether nonzero pixels of one image lie;
#X msg -37 225 0.5 0.75;
#X msg -57 195 0.2 0.8 0.9;
#X text -281 198 mouse;
#X text -289 238 invert;
#X obj -88 408 cnv 15 420 220 empty empty empty 20 12 0 14 -233017
-66577 0;
#X obj 218 466 tgl 19 0 empty \$0-tgl_smooth empty 24 12 0 14 -262144
-1 -1 1 1;
#X obj 182 439 hsl 130 15 0 1 0 0 empty empty x-fade 44 8 0 12 -1 -260097
-162280 7200 1;
#X obj 258 489 GUI_RGB;
#X obj 140 506 tgl 19 0 empty empty empty -52 10 0 14 -262144 -1 -1
1 1;
#X obj 101 546 tgl 19 0 empty empty empty -52 10 0 14 -262144 -1 -1
0 1;
#X text -28 544 video camera;
#X text -78 504 mouse \, rings and bell;
#N canvas 639 334 1092 604 multi_display 0;
#X obj 614 51 inlet;
#X obj 679 51 inlet;
#X obj 744 51 inlet;
#X text 756 25 RGB;
#X obj 126 389 pix_mtx;
#X obj 126 447 color;
#N canvas 185 112 538 364 gemwin 0;
#X obj -141 300 gemwin 30;
#X msg -141 128 destroy;
#X obj -101 49 select 0 1;
#X msg -53 128 \$1;
#X msg -101 89 0;
#X msg -53 88 1;
#X obj -53 159 select 1;
#X obj -53 191 r \$0-imagesc_dimen;
#X msg -120 270 create \, 1 \, color 0 0 0 \, FSAA 2 \, dimen \$1 \$2
;
#X obj -120 240 list;
#X obj -101 6 inlet on/off;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 6 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 9 0;
#X connect 7 0 9 1;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X connect 10 0 2 0;
#X restore -94 142 pd gemwin;
#X obj 99 349 gemhead;
#X obj 37 51 inlet;
#X text 624 25 mix;
#X text 675 25 smooth;
#X obj 547 542 pix_texture;
#X obj 547 572 square 4;
#X obj 547 495 pix_mix;
#X msg 679 495 quality \$1;
#X obj 288 389 pix_mtx;
#X obj 202 349 gemhead;
#X obj 744 331 s \$0-colour;
#X obj 173 419 r \$0-colour;
#X obj 193 301 mtx;
#X obj 308 221 t b a;
#X obj 203 271 del 100;
#X obj 355 301 mtx_add;
#X obj 375 251 t a;
#X msg 422 221 zeros \$1;
#X obj 422 251 mtx;
#X obj 422 51 r \$0-img_w;
#X obj 422 191 f;
#X obj 449 85 r \$0-rings_w;
#X obj 469 115 r \$0-rings_pos;
#X obj 449 155 bang;
#X obj -153 348 gemhead;
#X obj -153 389 pix_video;
#X obj -10 539 pix_texture;
#X obj -10 509 alpha;
#X obj -153 51 inlet;
#X text -151 26 camera;
#X text -108 8 :on/off:;
#X text -45 26 mouse \, rings and bell;
#N canvas 1113 588 197 189 double_switch 0;
#X obj 98 103 +;
#X obj 98 63 t b a;
#X obj 98 143 outlet;
#X obj 18 23 inlet;
#X obj 98 23 inlet;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 1 1 0 1;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X restore -142 101 pd double_switch;
#X obj 193 51 r \$0-p;
#X obj 308 51 r \$0-c;
#X obj 744 381 loadbang;
#X obj 744 451 s \$0-tgl_smooth;
#X msg 744 415 1;
#X obj -143 278 loadbang;
#X msg -143 308 0;
#X msg 490 340 zeros 20;
#X obj 500 410 mtx;
#X obj -153 429 pix_cropsqr;
#X obj -94 182 select 0 1;
#X obj -10 569 square 4;
#X text 195 26 mouse;
#X text 310 25 other;
#X connect 0 0 13 2;
#X connect 1 0 14 0;
#X connect 2 0 17 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 7 0 4 0;
#X connect 8 0 7 0;
#X connect 8 0 16 0;
#X connect 8 0 34 1;
#X connect 8 0 39 1;
#X connect 11 0 12 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 13 1;
#X connect 16 0 15 0;
#X connect 18 0 5 1;
#X connect 19 0 4 2;
#X connect 20 0 21 0;
#X connect 20 1 22 0;
#X connect 21 0 19 0;
#X connect 22 0 15 2;
#X connect 22 0 23 0;
#X connect 23 0 22 1;
#X connect 24 0 25 0;
#X connect 25 0 22 1;
#X connect 26 0 27 0;
#X connect 27 0 24 0;
#X connect 28 0 30 0;
#X connect 29 0 30 0;
#X connect 30 0 27 0;
#X connect 31 0 32 0;
#X connect 32 0 49 0;
#X connect 33 0 51 0;
#X connect 34 0 33 0;
#X connect 35 0 31 0;
#X connect 35 0 39 0;
#X connect 39 0 6 0;
#X connect 39 0 50 0;
#X connect 40 0 19 0;
#X connect 41 0 20 0;
#X connect 42 0 44 0;
#X connect 44 0 43 0;
#X connect 45 0 46 0;
#X connect 46 0 31 0;
#X connect 47 0 48 0;
#X connect 48 0 15 2;
#X connect 49 0 34 0;
#X connect 50 1 49 1;
#X restore 101 596 pd multi_display;
#X text 177 412 mouse;
#X text 263 412 other;
#X text 241 463 smooth;
#X text -66 426 VIDEO DISPLAY;
#X text -263 578 matching ring;
#X text -94 63 image resolution;
#X text -319 81 cone;
#X connect 1 0 18 0;
#X connect 2 0 18 2;
#X connect 3 0 11 0;
#X connect 3 0 12 0;
#X connect 5 0 10 0;
#X connect 5 0 14 0;
#X connect 5 0 17 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 8 0 9 0;
#X connect 11 0 19 0;
#X connect 12 0 18 0;
#X connect 15 0 7 1;
#X connect 17 0 8 0;
#X connect 17 1 19 1;
#X connect 17 2 19 2;
#X connect 19 0 4 0;
#X connect 19 0 13 0;
#X connect 20 0 18 1;
#X connect 21 0 18 1;
#X connect 25 0 18 1;
#X connect 26 0 18 1;
#X connect 27 0 26 1;
#X connect 29 0 18 1;
#X connect 30 0 18 1;
#X connect 34 0 41 3;
#X connect 35 0 41 2;
#X connect 36 0 41 4;
#X connect 37 0 41 1;
#X connect 38 0 41 0;
