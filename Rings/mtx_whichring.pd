#N canvas 870 161 934 372 16;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X declare -lib smlib;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X text 46 329 Juan Ignacio Mendoza Garay - 2018;
#X obj 103 64 inlet positions;
#X obj 472 104 mtx_ring;
#X obj -247 224 r \$0-dri;
#X obj 283 64 inlet rings width;
#X obj 260 224 r \$0-rngindx;
#X obj 472 64 r \$0-rngparam;
#X text 266 6 within one of several concentric rings.;
#X obj -247 64 inlet matrix;
#X obj -107 64 inlet matrix width;
#X obj -247 104 s \$0-mtx;
#N canvas 921 35 759 967 rings_parameters_processor 0;
#X text -394 -192 parameters to make several rings;
#X obj -50 -157 inlet rings width;
#X obj -371 53 list-dripslow;
#X obj -371 13 del;
#X obj -97 663 cup;
#X msg -97 633 1;
#X obj -277 -37 t b a b;
#X obj -467 -37 r \$0-tr_nextring;
#X obj -291 253 / 2;
#X obj -561 293 *;
#X obj -10 293 *;
#X obj -561 323 t a a;
#X obj -10 323 t a a;
#X obj 10 453 -;
#X obj -561 453 +;
#X obj -561 493 moses;
#X obj -291 283 t a a;
#X obj -369 563 pack f f f f;
#X obj -371 123 s \$0-rngpos;
#X obj -561 173 r \$0-rngpos;
#X obj -534 253 r \$0-rngN;
#X obj -514 463 r \$0-rngN;
#X obj -244 313 s \$0-rngN;
#X obj -514 363 s \$0-rngN*pos;
#X obj -174 413 r \$0-rngN*pos;
#X obj -330 213 t a a a;
#X obj -277 -77 list;
#X obj -440 -117 r \$0-spitrngs;
#X obj -210 173 s \$0-spitrngs;
#X obj -567 -37 t b a;
#X obj -567 123 s \$0-spitrngs;
#X obj -443 693 s \$0-tr_nextring;
#X obj -50 123 t b b a;
#X obj -17 253 f;
#X obj -277 -117 t b a;
#X msg -291 413 0;
#X msg -252 522 0;
#X obj -184 493 moses 0;
#X obj -291 363 moses 0;
#X obj -369 593 trigger bang any bang;
#X obj -443 663 del;
#X obj -266 693 s \$0-rngparam;
#X obj -97 694 s \$0-rngindx;
#X obj -210 53 s \$0-tr_clear;
#X obj -97 603 r \$0-tr_clear;
#X msg -266 633 \$2 \$3 \$1 \$4;
#X obj -567 -157 inlet matrix width;
#X obj -277 -157 inlet rings positions;
#X obj -520 53 s \$0-mtxw;
#X obj -330 173 r \$0-mtxw;
#X obj -184 363 s \$0-rngw*mtxw;
#X obj -534 413 r \$0-rngw*mtxw;
#X text -255 656 w N hib lob;
#X text -340 538 w;
#X text -303 538 N;
#X text -484 538 hib;
#X text -176 538 lob;
#X text -96 493 RINGS PARAMETERS:;
#X text -86 513 w = matrix width (mtxw);
#X text -86 533 N = possible rings (mtx/2);
#X text -86 553 hib = high bound;
#X text -86 573 hib = low bound;
#X obj -50 -77 / 4;
#X obj -371 83 * 0.7;
#X connect 1 0 62 0;
#X connect 2 0 63 0;
#X connect 3 0 2 0;
#X connect 4 0 42 0;
#X connect 5 0 4 0;
#X connect 6 0 3 0;
#X connect 6 1 2 1;
#X connect 6 2 43 0;
#X connect 7 0 2 0;
#X connect 8 0 16 0;
#X connect 9 0 11 0;
#X connect 10 0 12 0;
#X connect 11 0 14 0;
#X connect 11 1 23 0;
#X connect 12 0 50 0;
#X connect 12 1 13 1;
#X connect 13 0 37 0;
#X connect 14 0 15 0;
#X connect 15 0 17 0;
#X connect 16 0 38 0;
#X connect 16 1 22 0;
#X connect 17 0 39 0;
#X connect 19 0 9 0;
#X connect 20 0 9 1;
#X connect 21 0 15 1;
#X connect 24 0 13 0;
#X connect 25 0 17 1;
#X connect 25 1 8 0;
#X connect 25 2 33 0;
#X connect 26 0 6 0;
#X connect 27 0 26 0;
#X connect 29 0 30 0;
#X connect 29 1 48 0;
#X connect 32 0 28 0;
#X connect 32 1 33 0;
#X connect 32 2 10 1;
#X connect 33 0 10 0;
#X connect 34 0 26 0;
#X connect 34 1 26 1;
#X connect 35 0 17 2;
#X connect 36 0 17 3;
#X connect 37 0 36 0;
#X connect 37 1 17 3;
#X connect 38 0 35 0;
#X connect 38 1 17 2;
#X connect 39 0 40 0;
#X connect 39 1 45 0;
#X connect 39 2 4 0;
#X connect 40 0 31 0;
#X connect 44 0 5 0;
#X connect 45 0 41 0;
#X connect 46 0 29 0;
#X connect 47 0 34 0;
#X connect 49 0 25 0;
#X connect 51 0 14 1;
#X connect 62 0 32 0;
#X connect 63 0 18 0;
#X restore -40 104 pd rings_parameters_processor;
#X obj 260 175 s \$0-rng_mtx;
#N canvas 652 50 902 315 dynamic_intersectors 0;
#X obj 277 232 s pd-\$0-intersectors;
#X obj 37 122 pack f \$0 f;
#X obj 37 42 trigger a a;
#X msg 557 162 clear;
#X obj -13 82 expr ($f1-1)*30;
#X obj 557 12 r \$0-tr_clear;
#X obj 37 12 r \$0-rngindx;
#N canvas 344 605 442 408 \$0-intersectors 0;
#X obj 0 0 isintersectidx 1027 1 mtx ridx dri;
#X obj 0 30 isintersectidx 1027 2 mtx ridx dri;
#X obj 0 60 isintersectidx 1027 3 mtx ridx dri;
#X restore 277 272 pd \$0-intersectors;
#X obj 627 222 s \$0-ridx;
#X obj 627 162 list prepend;
#X obj 627 192 list trim;
#X msg 744 132 ridx_\$1;
#X obj 744 102 r \$0-rngindx;
#X obj 627 72 r \$0-rng_mtx;
#X msg 37 162 obj 0 \$1 isintersectidx \$2 \$3 mtx ridx dri dri_st
;
#X connect 1 0 14 0;
#X connect 2 0 4 0;
#X connect 2 1 1 2;
#X connect 3 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 11 0 9 1;
#X connect 12 0 11 0;
#X connect 13 0 9 0;
#X connect 14 0 0 0;
#X restore -10 144 pd dynamic_intersectors;
#X text -245 6 Detects whether nonzero elements of one matrix lie;
#X text -246 30 Position of each ring and;
#X text 14 30 width of rings are expressed as a fraction of the radius.
;
#N canvas 1005 91 392 418 null_intersector 0;
#X obj -29 225 > 0;
#X obj -29 195 mtx_frobenius;
#X obj -29 -56 r \$0-mtx;
#X obj -29 295 s \$0-dri;
#X obj 98 154 mtx_add;
#X obj 118 104 t a;
#X msg 165 74 zeros \$1;
#X obj 165 104 mtx;
#X obj 165 -26 r \$0-img_w;
#X obj 165 44 f;
#X obj 98 -56 r \$0-rng_mtx;
#X obj -29 255 moses 1;
#X obj 192 8 r \$0-tr_clear;
#X connect 0 0 11 0;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 4 0 1 1;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 4 0;
#X connect 11 0 3 0;
#X connect 12 0 9 0;
#X restore -10 184 pd null_intersector;
#X obj 550 255 outlet cone;
#X obj 400 255 outlet matrix;
#X obj 260 254 outlet index;
#X text 262 286 ------ created ring ------;
#X obj -107 254 outlet index state;
#X obj -247 254 outlet index;
#X obj -107 224 r \$0-dri_st;
#X text -242 286 -------- detected ring --------;
#X connect 1 0 11 1;
#X connect 2 0 12 0;
#X connect 2 0 19 0;
#X connect 2 1 18 0;
#X connect 3 0 23 0;
#X connect 4 0 11 2;
#X connect 5 0 20 0;
#X connect 6 0 2 0;
#X connect 8 0 10 0;
#X connect 9 0 11 0;
#X connect 24 0 22 0;
