#N canvas 242 82 729 292 10;
#X declare -lib iemmatrix;
#X obj 549 127 bng 15 250 50 0 \$0-s_bng_CHH \$0-r_bng_CHH empty 17
7 0 10 -262144 -1 -262144;
#X obj 549 141 bng 15 250 50 0 \$0-s_bng_SNR \$0-r_bng_SNR empty 17
7 0 10 -262144 -1 -262144;
#X obj 549 155 bng 15 250 50 0 \$0-s_bng_KCK \$0-r_bng_KCK empty 17
7 0 10 -262144 -1 -262144;
#X obj 549 99 bng 15 250 50 0 \$0-s_bng_RDE \$0-r_bng_RDE empty 17
7 0 10 -262144 -1 -262144;
#X obj 549 113 bng 15 250 50 0 \$0-s_bng_OHH \$0-r_bng_OHH empty 17
7 0 10 -262144 -1 -262144;
#N canvas 87 209 1096 593 clock 0;
#X obj 252 434 cup;
#X msg 473 403 0;
#X msg 359 244 1;
#X obj 252 244 metro;
#X obj 473 184 expr 60000/$f1;
#X obj 473 374 r \$0-rewind;
#X obj 473 5 r \$0-s_bpm;
#X obj 625 5 loadbang;
#X msg 675 314 240;
#X obj 252 5 r \$0-playstop;
#X obj 74 4 r \$0-spit_drums;
#X obj 252 184 trigger a b;
#X obj 252 545 outlet trigger;
#X obj 252 344 spigot;
#X obj 309 314 == 0;
#X msg 625 314 1;
#X obj 48 484 spigot;
#X msg 199 314 1;
#X obj 74 214 t a a a a;
#X obj 48 514 s \$0-col_drums;
#X obj 12 314 metro 10;
#X obj 74 144 spigot;
#X obj 131 74 == 0;
#X msg 201 74 1;
#X obj 675 365 s \$0-r_bpm;
#X connect 0 0 16 0;
#X connect 0 0 12 0;
#X connect 1 0 0 0;
#X connect 2 0 13 0;
#X connect 3 0 13 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 7 0 15 0;
#X connect 7 0 23 0;
#X connect 8 0 24 0;
#X connect 9 0 22 0;
#X connect 9 0 11 0;
#X connect 10 0 21 0;
#X connect 11 0 3 0;
#X connect 11 1 2 0;
#X connect 13 0 0 0;
#X connect 14 0 13 1;
#X connect 15 0 13 1;
#X connect 16 0 19 0;
#X connect 17 0 0 0;
#X connect 18 0 20 0;
#X connect 18 1 16 1;
#X connect 18 2 14 0;
#X connect 18 3 17 0;
#X connect 20 0 0 0;
#X connect 21 0 18 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X restore 285 21 pd clock;
#X floatatom 549 81 5 0 0 0 - #0-r_bpm #0-s_bpm;
#X obj 285 201 s \$0-rewind;
#X obj 21 71 seq_grid_5x16 \$0 1;
#X obj 573 142 hsl 124 14 0 1 0 0 \$0-s_SNR_lvl \$0-r_SNR_lvl empty
14 6 0 14 -261682 -258113 -258113 12300 1;
#X obj 573 156 hsl 124 14 0 1 0 0 \$0-s_KCK_lvl \$0-r_KCK_lvl empty
-2 -8 0 10 -261682 -258113 -1 12300 1;
#X obj 573 100 hsl 124 42 0 1 0 0 \$0-s_cym_lvl \$0-r_cym_lvl empty
-2 -8 0 10 -261682 -258113 -1 12300 1;
#X text 575 99 ride;
#X text 575 110 open hihat;
#X text 575 124 closed hihat;
#X text 575 140 snare;
#X text 575 154 kick;
#N canvas 639 284 682 616 memory 0;
#X obj 328 18 import iemmatrix;
#X obj 328 308 s \$0-spit_drums;
#X msg 328 138 1;
#X obj 378 88 r \$0-rewind;
#X msg 378 268 0;
#X obj 378 228 spigot;
#X obj 242 48 r \$0-save_drums;
#X obj -164 378 mtx 5 32;
#X obj 309 348 mtx_zeros 5 32;
#N canvas 357 22 598 562 mtx_getall 0;
#X obj -343 23 inlet;
#X obj -427 503 outlet to mtx;
#X msg -427 463 element \$1 \$2;
#X obj -427 423 pack f f;
#X obj -181 223 cup;
#X obj -181 253 select 33;
#X obj -290 114 select 1;
#X obj -277 253 + 1;
#X obj -337 253 i;
#X msg -310 163 1;
#X obj -181 343 == 5;
#X msg -181 113 setbang 1;
#X obj -343 63 t b b b;
#X msg -477 114 0;
#X obj -337 283 t a a a;
#X obj -270 503 outlet row;
#X obj -47 503 outlet col;
#X obj -94 373 t a a;
#X obj -407 114 metro 1;
#X connect 0 0 12 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 5 1 17 0;
#X connect 6 0 4 0;
#X connect 6 0 9 0;
#X connect 7 0 8 1;
#X connect 8 0 7 0;
#X connect 8 0 14 0;
#X connect 9 0 8 1;
#X connect 10 0 6 0;
#X connect 11 0 4 0;
#X connect 12 0 18 0;
#X connect 12 1 9 0;
#X connect 12 2 11 0;
#X connect 13 0 18 0;
#X connect 14 0 10 0;
#X connect 14 1 3 0;
#X connect 14 2 15 0;
#X connect 17 0 3 1;
#X connect 17 1 16 0;
#X connect 18 0 8 0;
#X restore -4 236 pd mtx_getall;
#N canvas 75 195 582 266 saved_mtx 0;
#X obj 413 64 l2s;
#X obj 413 24 inlet mtx;
#X obj -21 14 inlet recall;
#X obj 143 224 outlet mtx;
#X obj 143 194 textfile;
#X msg 460 144 set \$1;
#X obj 413 104 t b a;
#X msg -21 64 read percussion_state.txt \, rewind \, bang;
#X msg 143 144 write percussion_state.txt;
#X connect 0 0 6 0;
#X connect 1 0 0 0;
#X connect 2 0 7 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 8 0;
#X connect 6 1 5 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X restore -82 148 pd saved_mtx;
#X obj -164 468 gate_2b;
#X msg -49 398 2;
#X obj -82 186 t b b a;
#X obj -72 78 loadbang;
#X obj -164 548 s \$0-full_mtx;
#N canvas 117 133 1145 480 set_elements 0;
#X obj 651 255 r \$0-col_drums;
#X obj 471 15 r \$0-seq_row_5;
#X obj 311 15 r \$0-seq_row_4;
#X obj 141 15 r \$0-seq_row_3;
#X obj -19 15 r \$0-seq_row_2;
#X obj -174 15 r \$0-seq_row_1;
#X msg -174 245 1;
#X msg -19 244 2;
#X msg 141 244 3;
#X msg 311 244 4;
#X msg 471 244 5;
#X obj -174 365 pack f f;
#X msg -174 395 element \$1 \$2 1;
#X obj -174 435 outlet;
#X obj -174 215 spigot;
#X obj -19 215 spigot;
#X obj 141 215 spigot;
#X obj 311 215 spigot;
#X obj 471 215 spigot;
#X obj 651 55 r \$0-playstop;
#X obj 641 15 r \$0-spit_drums;
#X obj 651 85 == 0;
#X obj 641 115 f;
#X connect 0 0 11 1;
#X connect 1 0 18 0;
#X connect 2 0 17 0;
#X connect 3 0 16 0;
#X connect 4 0 15 0;
#X connect 5 0 14 0;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 8 0 11 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 6 0;
#X connect 15 0 7 0;
#X connect 16 0 8 0;
#X connect 17 0 9 0;
#X connect 18 0 10 0;
#X connect 19 0 21 0;
#X connect 20 0 22 0;
#X connect 21 0 22 0;
#X connect 22 0 18 1;
#X connect 22 0 17 1;
#X connect 22 0 16 1;
#X connect 22 0 15 1;
#X connect 22 0 14 1;
#X restore -164 18 pd set_elements;
#X obj -14 548 s \$0-seq_grid_1;
#X obj 157 548 s \$0-seq_grid_2;
#N canvas 771 423 420 378 distributor 0;
#X obj 40 202 pack f f f;
#X obj 40 91 t a b;
#X obj 137 131 f;
#X obj 184 236 > 16;
#X obj 117 296 gate_2b;
#X obj 184 266 + 1;
#X obj 137 171 t a a;
#X msg 40 236 \$2 \$3 \$1;
#X obj 40 21 inlet value;
#X obj 180 21 inlet row;
#X obj 290 21 inlet col;
#X obj 53 336 outlet;
#X obj 184 336 outlet;
#X connect 0 0 7 0;
#X connect 1 0 0 0;
#X connect 1 1 2 0;
#X connect 2 0 6 0;
#X connect 3 0 5 0;
#X connect 4 0 11 0;
#X connect 4 1 12 0;
#X connect 5 0 4 1;
#X connect 6 0 0 2;
#X connect 6 1 3 0;
#X connect 7 0 4 0;
#X connect 8 0 1 0;
#X connect 9 0 0 1;
#X connect 10 0 2 1;
#X restore -14 508 pd distributor;
#X obj 35 78 r \$0-full_mtx;
#X obj 56 108 r \$0-clear_drums;
#X obj -82 48 r \$0-recall_drums;
#X msg 193 398 2;
#X obj 378 138 del 10;
#X obj 242 88 t b b b;
#X msg 242 408 1;
#X obj 56 148 trigger b b b;
#X connect 2 0 1 0;
#X connect 2 0 5 1;
#X connect 3 0 24 0;
#X connect 4 0 5 1;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X connect 5 0 7 0;
#X connect 6 0 25 0;
#X connect 7 0 11 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 9 1 19 1;
#X connect 9 2 19 2;
#X connect 10 0 13 0;
#X connect 11 0 15 0;
#X connect 11 1 19 0;
#X connect 12 0 11 1;
#X connect 13 0 9 0;
#X connect 13 1 12 0;
#X connect 13 2 7 1;
#X connect 14 0 10 0;
#X connect 16 0 7 0;
#X connect 19 0 17 0;
#X connect 19 1 18 0;
#X connect 20 0 10 1;
#X connect 21 0 27 0;
#X connect 22 0 10 0;
#X connect 23 0 11 1;
#X connect 24 0 5 0;
#X connect 25 0 2 0;
#X connect 25 1 8 0;
#X connect 25 2 26 0;
#X connect 26 0 11 1;
#X connect 27 0 9 0;
#X connect 27 1 23 0;
#X connect 27 2 8 0;
#X restore 585 21 pd memory;
#X obj 285 71 seq_grid_5x16 \$0 2;
#X obj 687 61 bng 10 250 50 0 \$0-save_drums empty save -27 5 0 10
-260097 -4032 -1;
#X obj 687 74 bng 10 250 50 0 \$0-clear_drums empty clear -32 5 0 10
-262144 -4032 -1;
#X obj 687 87 bng 10 250 50 0 \$0-recall_drums empty recall -38 5 0
10 -191407 -4032 -1;
#N canvas 278 499 450 300 audio_out 0;
#X obj 35 73 catch~ \$0-drums_L;
#X obj 176 73 catch~ \$0-drums_R;
#X obj 115 143 dac~;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X restore 285 261 pd audio_out;
#N canvas 317 72 1111 828 synths 0;
#X obj 637 395 efficient-kick;
#X obj 427 394 efficient-snare;
#X obj 77 393 efficient-fmhh;
#X msg 77 343 2;
#X msg 257 343 1;
#X obj 647 315 r \$0-s_bng_KCK;
#X obj 437 315 r \$0-s_bng_SNR;
#X obj 86 315 r \$0-s_bng_OHH;
#X obj 268 315 r \$0-s_bng_CHH;
#X obj -194 315 r \$0-s_bng_RDE;
#X obj 647 275 s \$0-r_bng_KCK;
#N canvas 125 238 170 191 flash 0;
#X obj 61 156 outlet;
#X obj 61 16 inlet;
#X msg 61 126 color \$1 22 0;
#X msg 61 86 1;
#X msg 11 86 0;
#X obj 11 56 del 200;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 647 245 pd flash;
#N canvas 125 238 170 191 flash 0;
#X obj 61 156 outlet;
#X obj 61 16 inlet;
#X msg 61 126 color \$1 22 0;
#X msg 61 86 1;
#X msg 11 86 0;
#X obj 11 56 del 200;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 437 245 pd flash;
#N canvas 125 238 170 191 flash 0;
#X obj 61 156 outlet;
#X obj 61 16 inlet;
#X msg 61 126 color \$1 22 0;
#X msg 61 86 1;
#X msg 11 86 0;
#X obj 11 56 del 200;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 267 245 pd flash;
#N canvas 125 238 170 191 flash 0;
#X obj 61 156 outlet;
#X obj 61 16 inlet;
#X msg 61 126 color \$1 22 0;
#X msg 61 86 1;
#X msg 11 86 0;
#X obj 11 56 del 200;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 87 245 pd flash;
#N canvas 125 238 170 191 flash 0;
#X obj 61 156 outlet;
#X obj 61 16 inlet;
#X msg 61 126 color \$1 22 0;
#X msg 61 86 1;
#X msg 11 86 0;
#X obj 11 56 del 200;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore -193 245 pd flash;
#X obj -193 275 s \$0-r_bng_RDE;
#X obj 87 275 s \$0-r_bng_OHH;
#X obj 267 275 s \$0-r_bng_CHH;
#X obj 437 275 s \$0-r_bng_SNR;
#X obj -204 393 efficient-fmride;
#X obj 264 653 line;
#X msg 264 623 \$1 50;
#X obj 674 653 line;
#X msg 674 623 \$1 50;
#X obj 464 653 line;
#X msg 464 623 \$1 50;
#X obj 184 653 line;
#X msg 184 623 \$1 50;
#X obj 264 583 * 0.6;
#X obj 184 583 * 0.4;
#X obj 184 503 r \$0-s_cym_lvl;
#X obj 464 503 r \$0-s_SNR_lvl;
#X obj 674 503 r \$0-s_KCK_lvl;
#X obj 637 33 r \$0-seq_row_5;
#X obj 427 33 r \$0-seq_row_4;
#X obj 257 33 r \$0-seq_row_3;
#X obj 77 33 r \$0-seq_row_2;
#X obj -204 33 r \$0-seq_row_1;
#X obj -204 213 spigot;
#X obj -147 133 == 0;
#X obj 77 213 spigot;
#X obj 257 213 spigot;
#X obj 427 213 spigot;
#X obj 637 213 spigot;
#X obj 134 133 == 0;
#X obj 314 133 == 0;
#X obj 484 133 == 0;
#X obj 694 133 == 0;
#X obj -147 73 r \$0-spit_drums;
#X obj -204 790 throw~ \$0-drums_L;
#X obj 147 790 throw~ \$0-drums_R;
#X obj 427 790 throw~ \$0-drums_L;
#X obj 637 790 throw~ \$0-drums_R;
#X obj 427 725 *~ 1;
#X obj 637 725 *~ 1;
#X obj 147 725 *~ 0.6;
#X obj 77 725 *~ 0.4;
#X obj -204 623 spread~;
#X obj -17 653 line;
#X obj -204 725 *~ 0.5;
#X obj -134 725 *~ 0.5;
#X obj -185 513 r \$0-seed;
#X obj -204 353 trigger bang bang;
#X msg -17 623 \$1 50;
#X obj -17 593 * 0.5;
#X obj -204 463 lop~ 2000;
#X obj -27 133 loadbang;
#X msg -27 163 1;
#X obj -27 393 1;
#X obj 184 473 s \$0-r_cym_lvl;
#X obj 464 473 s \$0-r_SNR_lvl;
#X obj 674 473 s \$0-r_KCK_lvl;
#X connect 0 0 55 0;
#X connect 1 0 54 0;
#X connect 2 0 56 0;
#X connect 2 0 57 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 3 0;
#X connect 8 0 4 0;
#X connect 9 0 63 0;
#X connect 11 0 10 0;
#X connect 12 0 19 0;
#X connect 13 0 18 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 20 0 66 0;
#X connect 21 0 56 1;
#X connect 22 0 21 0;
#X connect 23 0 55 1;
#X connect 24 0 23 0;
#X connect 25 0 54 1;
#X connect 26 0 25 0;
#X connect 27 0 57 1;
#X connect 28 0 27 0;
#X connect 29 0 22 0;
#X connect 30 0 28 0;
#X connect 31 0 29 0;
#X connect 31 0 30 0;
#X connect 31 0 65 0;
#X connect 32 0 26 0;
#X connect 33 0 24 0;
#X connect 34 0 44 0;
#X connect 35 0 43 0;
#X connect 36 0 42 0;
#X connect 37 0 41 0;
#X connect 38 0 39 0;
#X connect 39 0 15 0;
#X connect 39 0 63 0;
#X connect 40 0 39 1;
#X connect 41 0 3 0;
#X connect 41 0 14 0;
#X connect 42 0 4 0;
#X connect 42 0 13 0;
#X connect 43 0 1 0;
#X connect 43 0 12 0;
#X connect 44 0 0 0;
#X connect 44 0 11 0;
#X connect 45 0 41 1;
#X connect 46 0 42 1;
#X connect 47 0 43 1;
#X connect 48 0 44 1;
#X connect 49 0 40 0;
#X connect 49 0 45 0;
#X connect 49 0 46 0;
#X connect 49 0 47 0;
#X connect 49 0 48 0;
#X connect 54 0 52 0;
#X connect 54 0 53 0;
#X connect 55 0 52 0;
#X connect 55 0 53 0;
#X connect 56 0 51 0;
#X connect 57 0 50 0;
#X connect 58 0 60 0;
#X connect 58 1 61 0;
#X connect 59 0 60 1;
#X connect 59 0 61 1;
#X connect 60 0 50 0;
#X connect 61 0 51 0;
#X connect 62 0 58 1;
#X connect 63 0 20 0;
#X connect 63 1 69 0;
#X connect 64 0 59 0;
#X connect 65 0 64 0;
#X connect 66 0 58 0;
#X connect 67 0 68 0;
#X connect 68 0 69 0;
#X connect 68 0 39 1;
#X connect 68 0 41 1;
#X connect 68 0 42 1;
#X connect 68 0 43 1;
#X connect 68 0 44 1;
#X connect 69 0 58 2;
#X connect 69 0 70 0;
#X connect 69 0 71 0;
#X connect 69 0 72 0;
#X restore 285 231 pd synths;
#X obj 549 61 tgl 15 0 \$0-playstop \$0-playstop_r empty 17 7 0 10
-204786 -1 -1 0 1;
#X text 567 59 start/stop;
#X text 583 83 BPM;
#X text 452 261 Juan Ignacio Mendoza G. - 2021;
#X connect 5 0 8 0;
#X connect 5 0 18 0;
#X connect 18 0 7 0;
