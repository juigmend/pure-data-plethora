#N canvas 260 308 806 442 12;
#X declare -lib iemgui -lib vbap -lib iemlib -lib iemmatrix -lib mrpeach
;
#X declare -lib vbap;
#X text 227 324 Juan Ignacio Mendoza - 2018;
#N canvas 1083 322 771 543 parameters 1;
#X obj 283 364 * -1;
#X text 323 352 azimuth;
#X text 79 404 elevation;
#X obj -93 223 t b a;
#X obj 42 464 outlet trigger;
#X obj 159 464 outlet azimuth;
#X obj 283 462 outlet elevation;
#X obj 552 462 outlet spread;
#X obj 204 394 r \$0-itime;
#X obj 562 244 r \$0-itime;
#X obj 413 390 r \$0-itime;
#X obj 74 424 iemlib/speedlim 200;
#X obj 283 422 iemlib/speedlim 200;
#X obj 432 274 iemlib/speedlim 200;
#X obj 42 274 t b a;
#X obj 74 304 route 1;
#X obj 74 334 unpack f f;
#X obj -93 194 r \$0-spread_a_snd;
#X text 322 363 consistent with vbap;
#X obj 42 -56 inlet x;
#X obj 105 -56 inlet y;
#X msg 42 194 1 \$1 \$2;
#X obj 52 164 s \$0-cs;
#X obj 254 -56 inlet coord cubesphere;
#X obj 42 44 cart2deg;
#X obj 42 16 spigot;
#X obj 105 14 spigot;
#X obj 254 14 spigot;
#X obj 169 -36 r \$0-onoff;
#X obj 110 44 r \$0-A_shift;
#X obj 42 104 +;
#X msg 42 134 1 \$1;
#X floatatom 144 370 5 0 0 0 - - -;
#X msg 42 74 \$2;
#X connect 0 0 12 0;
#X connect 3 0 4 0;
#X connect 3 1 13 0;
#X connect 8 0 11 1;
#X connect 9 0 13 1;
#X connect 10 0 12 1;
#X connect 11 0 6 0;
#X connect 12 0 5 0;
#X connect 13 0 7 0;
#X connect 14 0 4 0;
#X connect 14 1 15 0;
#X connect 15 0 16 0;
#X connect 16 0 11 0;
#X connect 16 1 0 0;
#X connect 16 1 32 0;
#X connect 17 0 3 0;
#X connect 19 0 25 0;
#X connect 20 0 26 0;
#X connect 21 0 14 0;
#X connect 23 0 27 0;
#X connect 24 0 33 0;
#X connect 25 0 24 0;
#X connect 26 0 24 1;
#X connect 27 0 14 0;
#X connect 28 0 27 1;
#X connect 28 0 26 1;
#X connect 28 0 25 1;
#X connect 29 0 30 1;
#X connect 30 0 31 0;
#X connect 31 0 21 0;
#X connect 31 0 22 0;
#X connect 33 0 30 0;
#X restore 19 140 pd parameters;
#X obj -94 -50 s~ \$0-sig;
#N canvas 791 520 336 426 settings 0;
#X obj -99 36 r \$0-reset_b_snd;
#X obj -99 6 import iemgui vbap iemlib iemmatrix mrpeach;
#X obj -82 286 1;
#X obj -82 316 s \$0-onoff;
#N canvas 223 318 182 149 colours 0;
#X floatatom -1 40 5 0 0 0 - - -;
#N canvas 71 162 381 370 colours 0;
#X obj 1 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262144 -1 -1
;
#X msg 1 114 0;
#X obj 1 201 outlet;
#X obj 1 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -166441 -1 -1
;
#X msg 1 135 1;
#X obj 1 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -66577 -1 -1
;
#X obj 49 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -261689 -1 -1
;
#X msg 1 156 2;
#X msg 49 114 3;
#X obj 65 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -261681 -1 -1
;
#X obj 81 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -262131 -1 -1
;
#X obj 97 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -225271 -1 -1
;
#X obj 113 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -225280 -1
-1;
#X msg 65 114 4;
#X msg 81 114 5;
#X msg 97 114 6;
#X msg 113 114 7;
#X obj 129 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -228992 -1
-1;
#X obj 145 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -257472 -1
-1;
#X msg 129 114 8;
#X msg 145 114 9;
#X obj 17 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -233017 -1 -1
;
#X obj 17 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -128992 -1
-1;
#X obj 17 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -33289 -1 -1
;
#X obj 49 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -258699 -1
-1;
#X obj 65 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -260818 -1
-1;
#X obj 81 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -241291 -1
-1;
#X obj 97 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -24198 -1 -1
;
#X obj 113 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -44926 -1
-1;
#X obj 129 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -62784 -1
-1;
#X obj 145 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -250685 -1
-1;
#X msg 49 135 13;
#X msg 65 135 14;
#X msg 81 135 15;
#X msg 97 135 16;
#X msg 113 135 17;
#X msg 129 135 18;
#X msg 145 135 19;
#X msg 17 114 10;
#X msg 17 135 11;
#X msg 17 156 12;
#X obj 33 2 bng 15 250 50 0 empty empty empty 0 -6 0 8 -195568 -1 -1
;
#X obj 33 18 bng 15 250 50 0 empty empty empty 0 -6 0 8 -99865 -1 -1
;
#X obj 33 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -1 -1 -1;
#X obj 49 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -143491 -1
-1;
#X obj 65 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -90881 -1 -1
;
#X obj 81 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -123526 -1
-1;
#X obj 97 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -42246 -1 -1
;
#X obj 113 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -1109 -1 -1
;
#X obj 129 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -355 -1 -1
;
#X obj 145 34 bng 15 250 50 0 empty empty empty 0 -6 0 8 -90133 -1
-1;
#X msg 49 156 23;
#X msg 65 156 24;
#X msg 81 156 25;
#X msg 97 156 26;
#X msg 113 156 27;
#X msg 129 156 28;
#X msg 145 156 29;
#X msg 33 114 20;
#X msg 33 135 21;
#X msg 33 156 22;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 2 0;
#X connect 9 0 13 0;
#X connect 10 0 14 0;
#X connect 11 0 15 0;
#X connect 12 0 16 0;
#X connect 13 0 2 0;
#X connect 14 0 2 0;
#X connect 15 0 2 0;
#X connect 16 0 2 0;
#X connect 17 0 19 0;
#X connect 18 0 20 0;
#X connect 19 0 2 0;
#X connect 20 0 2 0;
#X connect 21 0 38 0;
#X connect 22 0 39 0;
#X connect 23 0 40 0;
#X connect 24 0 31 0;
#X connect 25 0 32 0;
#X connect 26 0 33 0;
#X connect 27 0 34 0;
#X connect 28 0 35 0;
#X connect 29 0 36 0;
#X connect 30 0 37 0;
#X connect 31 0 2 0;
#X connect 32 0 2 0;
#X connect 33 0 2 0;
#X connect 34 0 2 0;
#X connect 35 0 2 0;
#X connect 36 0 2 0;
#X connect 37 0 2 0;
#X connect 38 0 2 0;
#X connect 39 0 2 0;
#X connect 40 0 2 0;
#X connect 41 0 58 0;
#X connect 42 0 59 0;
#X connect 43 0 60 0;
#X connect 44 0 51 0;
#X connect 45 0 52 0;
#X connect 46 0 53 0;
#X connect 47 0 54 0;
#X connect 48 0 55 0;
#X connect 49 0 56 0;
#X connect 50 0 57 0;
#X connect 51 0 2 0;
#X connect 52 0 2 0;
#X connect 53 0 2 0;
#X connect 54 0 2 0;
#X connect 55 0 2 0;
#X connect 56 0 2 0;
#X connect 57 0 2 0;
#X connect 58 0 2 0;
#X connect 59 0 2 0;
#X connect 60 0 2 0;
#X coords 0 0 1 1 160 50 2 0 0;
#X restore -1 -24 pd colours;
#X connect 1 0 0 0;
#X restore 132 36 pd colours;
#X text -56 354 xy;
#X obj -99 385 s \$0-xy;
#X msg -99 356 21 21;
#X msg 60 166 200;
#X obj 60 196 s \$0-itime;
#X text 85 166 interpolation (ms);
#X obj 60 256 s \$0-spread_a_rcv;
#X text 90 226 spread (0-100);
#X msg 60 226 20;
#X obj 0 256 pack \$0;
#X msg 0 288 \; \$1-cs_config size 45 \; \$1-cs_config nr_src 0 \;
\$1-cs_config src_font 20 \; \$1-cs_config src_col 13 \; \$1-cs_config
sphere_col 28 \; \$1-cs_config frame_col 10 \;;
#X obj -99 66 t b b b b b b;
#X obj 60 136 s \$0-A_shift;
#X msg 60 106 0;
#X connect 0 0 16 0;
#X connect 2 0 3 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 13 0 11 0;
#X connect 14 0 15 0;
#X connect 16 0 7 0;
#X connect 16 1 2 0;
#X connect 16 2 14 0;
#X connect 16 3 13 0;
#X connect 16 4 8 0;
#X connect 16 5 18 0;
#X connect 18 0 17 0;
#X restore 322 0 pd settings;
#X obj -51 193 vbap;
#X obj -51 163 pack f f;
#X text 81 193 <-----;
#X text 126 193 vbap library version;
#X obj 322 -80 inlet spread;
#X obj 322 -50 s \$0-spread_a_rcv;
#X obj -94 -80 inlet~;
#X obj 135 140 r \$0-def_loudsp;
#X text -99 101 ggee;
#X obj -99 297 outlet~;
#X text -100 117 library;
#X obj 452 -80 inlet reset;
#X text 457 -60 and;
#X text -99 131 version;
#X text -78 189 |;
#X text 457 -45 define_loudspeakers;
#X text -76 193 -->;
#X text -78 180 |;
#X text -78 171 |;
#X text -78 162 |;
#X text -78 153 |;
#X text -78 144 |;
#X obj 10 16 cnv 15 108 101 empty empty empty 6 10 0 14 -4160 -4160
0;
#X obj 14 20 cnv 15 100 93 empty empty cart2vbap_8 6 10 0 14 -228856
-4160 0;
#X obj 67 66 cube_sphere 0 21 20 354 233016 258698 19 0;
#X obj 19 66 grid grid 42 -1 1 42 -1 1 0 0.01 0.01 2 2 -33 89;
#X obj -14 -80 inlet x;
#X obj 53 -80 inlet y;
#X obj 90 41 bng 19 1000 50 0 \$0-reset_b_snd \$0-reset_b_rcv empty
-20 7 0 10 -234058 -261234 -1;
#X text 51 45 reset;
#X text 40 35 spread;
#X floatatom 19 41 3 0 100 0 - #0-spread_a_rcv #0-spread_a_snd;
#N canvas 0 22 138 237 pack_xy 0;
#X obj -24 -20 inlet x;
#X obj 33 -20 inlet y;
#X obj 33 20 * 42;
#X obj -24 80 pack f f;
#X obj -3 50 t b a;
#X obj -24 20 * 42;
#X obj -24 170 outlet;
#X obj -14 110 r \$0-xy;
#X msg -24 140 goto \$1 \$2;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 4 1 3 1;
#X connect 5 0 3 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X restore -14 -50 pd pack_xy;
#N canvas 1473 680 433 242 reset 0;
#X obj 14 10 inlet;
#X obj 24 40 loadbang;
#X obj 14 200 s \$0-reset_b_rcv;
#X obj 37 170 s \$0-def_loudsp;
#X obj 160 140 list length;
#X obj 160 170 - 2;
#X obj 160 200 s \$0-vbap_N;
#X obj 14 110 t b a a;
#X msg 24 70 define_loudspeakers 2 -22 22 -67 67 -112 112 -157 157
;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 7 0 2 0;
#X connect 7 1 3 0;
#X connect 7 2 4 0;
#X connect 8 0 7 0;
#X restore 452 0 pd reset;
#N canvas 761 503 796 482 make_matrix_8 0;
#X obj 124 123 t b f;
#X obj -20 163 pack 1 0 0 0 0 0 0 0 0;
#X obj -2 93 route 0 1 2 3 4 5 6 7;
#X msg -20 193 matrix 8 \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8 \$9;
#X obj -2 63 spigot;
#X msg 37 23 1;
#X obj -2 -67 r \$0-vbap_list;
#X obj 37 -7 select 8;
#X msg 90 23 0;
#X obj 37 -37 r \$0-vbap_N;
#X obj 145 223 r \$0-itime;
#X obj -20 254 mtx_mul~ 8 1 200 .......;
#X obj 62 223 r~ \$0-sig;
#X obj -277 364 throw~ \$0-o_1;
#X obj -180 364 throw~ \$0-o_2;
#X obj -81 364 throw~ \$0-o_3;
#X obj 16 364 throw~ \$0-o_4;
#X obj 114 364 throw~ \$0-o_5;
#X obj 213 364 throw~ \$0-o_6;
#X obj 311 364 throw~ \$0-o_7;
#X obj 410 364 throw~ \$0-o_8;
#X connect 0 0 1 0;
#X connect 0 1 1 8;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 2 1 1 2;
#X connect 2 2 1 3;
#X connect 2 3 1 4;
#X connect 2 4 1 5;
#X connect 2 5 1 6;
#X connect 2 6 1 7;
#X connect 2 7 0 0;
#X connect 3 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 4 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 7 1 8 0;
#X connect 8 0 4 1;
#X connect 9 0 7 0;
#X connect 10 0 11 2;
#X connect 11 0 13 0;
#X connect 11 1 14 0;
#X connect 11 2 15 0;
#X connect 11 3 16 0;
#X connect 11 4 17 0;
#X connect 11 5 18 0;
#X connect 11 6 19 0;
#X connect 11 7 20 0;
#X connect 12 0 11 1;
#X restore 322 170 pd make_matrix_8;
#X obj 19 220 s \$0-vbap_list;
#X obj 1 297 outlet~;
#X obj 101 297 outlet~;
#X obj 201 297 outlet~;
#X obj 301 297 outlet~;
#X obj 402 297 outlet~;
#X obj 501 297 outlet~;
#X obj 601 297 outlet~;
#N canvas 761 503 415 474 make_matrix_4 0;
#X obj -76 123 t b f;
#X obj -142 63 spigot;
#X msg -103 23 1;
#X obj -142 -67 r \$0-vbap_list;
#X msg -50 23 0;
#X obj -103 -37 r \$0-vbap_N;
#X obj 0 223 r \$0-itime;
#X obj -83 223 r~ \$0-sig;
#X obj -103 -7 select 4;
#X obj -165 163 pack 1 0 0 0 0;
#X obj -142 93 route 0 1 2 3;
#X obj -165 254 mtx_mul~ 4 1 200 .......;
#X msg -165 193 matrix 4 \$1 \$2 \$3 \$4 \$5;
#X obj -228 354 throw~ \$0-o_1;
#X obj -130 354 throw~ \$0-o_2;
#X obj -32 354 throw~ \$0-o_3;
#X obj 66 354 throw~ \$0-o_4;
#X connect 0 0 9 0;
#X connect 0 1 9 4;
#X connect 1 0 10 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X connect 4 0 1 1;
#X connect 5 0 8 0;
#X connect 6 0 11 2;
#X connect 7 0 11 1;
#X connect 8 0 2 0;
#X connect 8 1 4 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 10 1 9 2;
#X connect 10 2 9 3;
#X connect 10 3 0 0;
#X connect 11 0 13 0;
#X connect 11 1 14 0;
#X connect 11 2 15 0;
#X connect 11 3 16 0;
#X connect 12 0 11 0;
#X restore 322 140 pd make_matrix_4;
#X text 457 -25 (4 or 8);
#X obj 552 -80 import vbap;
#X obj 19 193 vbap/vbap 0 0;
#X obj 126 -80 inlet A;
#X obj 126 100 route src_dp;
#X obj -99 267 catch~ \$0-o_1;
#X obj 1 267 catch~ \$0-o_2;
#X obj 101 267 catch~ \$0-o_3;
#X obj 201 267 catch~ \$0-o_4;
#X obj 301 267 catch~ \$0-o_5;
#X obj 402 267 catch~ \$0-o_6;
#X obj 501 267 catch~ \$0-o_7;
#X obj 601 267 catch~ \$0-o_8;
#X obj 17 -20 r \$0-cs_config;
#X obj 214 -80 inlet A_shift;
#N canvas 161 508 195 187 cs_process 0;
#X obj 17 -72 inlet A;
#X obj 87 -2 r \$0-cs;
#X obj 17 80 outlet;
#X msg 17 -2 1 \$1;
#X msg 17 50 src_dp 1 \$1 \$2;
#X obj 87 -72 r \$0-A_shift;
#X obj 17 -32 +;
#X connect 0 0 6 0;
#X connect 1 0 4 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 6 1;
#X connect 6 0 3 0;
#X restore 126 -20 pd cs_process;
#X obj 214 -50 s \$0-A_shift;
#X connect 1 0 50 0;
#X connect 1 1 50 1;
#X connect 1 2 50 2;
#X connect 1 3 50 3;
#X connect 8 0 9 0;
#X connect 10 0 2 0;
#X connect 11 0 50 0;
#X connect 15 0 37 0;
#X connect 28 0 1 2;
#X connect 29 0 1 0;
#X connect 29 1 1 1;
#X connect 30 0 36 0;
#X connect 31 0 36 1;
#X connect 36 0 29 0;
#X connect 50 0 39 0;
#X connect 51 0 63 0;
#X connect 52 0 1 2;
#X connect 53 0 13 0;
#X connect 54 0 40 0;
#X connect 55 0 41 0;
#X connect 56 0 42 0;
#X connect 57 0 43 0;
#X connect 58 0 44 0;
#X connect 59 0 45 0;
#X connect 60 0 46 0;
#X connect 61 0 28 0;
#X connect 62 0 64 0;
#X connect 63 0 52 0;
#X connect 63 0 28 0;
#X coords 0 -1 1 1 108 113 2 10 10;
