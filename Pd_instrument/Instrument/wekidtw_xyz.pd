#N canvas 289 409 633 227 12;
#X declare -lib mrpeach;
#X floatatom 16 42 3 0 0 0 - #0-learned_n_rcv #0-learned_n_snd;
#N canvas 567 146 568 506 Wekinator_output 0;
#X obj 107 9 inlet;
#X obj 107 189 route /outputs;
#X obj 107 159 routeOSC /wek;
#X obj 107 459 outlet distances;
#X obj 273 398 s \$0-class_a_rcv;
#X obj 7 459 outlet class;
#X obj -123 269 s \$0-mindist_a_rcv;
#X obj -123 299 s \$0-mindist_s_rcv;
#X obj 127 219 r \$0-distthr_a_snd;
#X obj 127 249 r \$0-distthr_s_snd;
#X obj 27 269 moses;
#X obj 27 299 bang;
#X obj 62 329 f;
#X msg 273 339 0;
#X obj 27 219 list-min;
#X obj 107 129 spigot;
#X obj 273 39 r \$0-clear_bng_snd;
#X obj 273 69 t b b;
#X msg 305 99 0;
#X obj 146 69 select 1;
#X obj 146 39 r \$0-run_tgl_snd;
#X msg 146 99 1;
#X obj 237 459 outlet minimum_distance;
#X obj 236 429 r \$0-mindist_a_rcv;
#X connect 0 0 15 0;
#X connect 1 0 3 0;
#X connect 1 0 14 0;
#X connect 2 0 1 0;
#X connect 8 0 10 1;
#X connect 9 0 10 1;
#X connect 10 0 11 0;
#X connect 10 1 13 0;
#X connect 11 0 12 0;
#X connect 12 0 4 0;
#X connect 12 0 5 0;
#X connect 13 0 4 0;
#X connect 13 0 5 0;
#X connect 14 0 10 0;
#X connect 14 0 6 0;
#X connect 14 0 7 0;
#X connect 14 1 12 1;
#X connect 15 0 2 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 17 1 18 0;
#X connect 18 0 15 1;
#X connect 19 0 21 0;
#X connect 20 0 19 0;
#X connect 21 0 15 1;
#X connect 23 0 22 0;
#X restore 185 140 pd Wekinator_output;
#X obj 185 10 inlet data_xyz;
#X floatatom 16 72 3 0 0 0 - #0-class_a_rcv #0-class_a_snd;
#X obj 315 10 inlet commands;
#X text 40 35 learned;
#X text 40 47 classes;
#X obj 519 40 import mrpeach;
#N canvas 0 22 432 646 information 0;
#X text 17 299 learn 0 = stop recording example;
#X text 17 319 detect 1 = run recognition;
#X text 17 339 detect 0 = stop recognition;
#X text 17 359 clear = clear examples;
#X text 17 279 learn 1 = start recording new example;
#X text 7 20 and from Wekinator at port 12000;
#X text 17 159 threshold X = set distance threshold to X;
#X text 18 109 only floats.;
#X text 17 89 Lists of 3 values \, normalised between 0 and 1 \,;
#X text 17 409 An ordinal number for a detected class (distance under
;
#X text 17 449 Zero for a non-detected class (distance over threshold).
;
#X text 17 429 threshold).;
#X text 101 219 default = 20;
#X text 17 199 classes Y = set maximum number of classes to Y;
#X text 115 179 default = 3;
#X text 7 69 INLET 1 (data):;
#X text 7 139 INLET 2 (commands):;
#X text 7 389 OUTLET 1 (class):;
#X text 7 479 OUTLET 2 (distances):;
#X text 17 239 connect 1 = connect to Wekinator;
#X text 17 259 connect 0 = disconnect from Wekinator;
#X text 7 0 wekidtw_xyz connects to Wekinator at port 6448;
#X text 7 40 It controls Wekinator's Dynamic Time Warping with 3 inputs.
;
#X text 17 549 The minimum distance to all learned classes.;
#X text 17 499 A list of distances to all learned classes.;
#X text 7 529 OUTLET 3 (minimun distance):;
#X text 7 579 OUTLET 4 (learned classes):;
#X text 17 599 Number of learned classes.;
#X restore 519 80 pd information;
#X text 41 77 detected;
#X text 41 65 class;
#X obj 85 106 hsl 82 15 200 0 0 0 \$0-mindist_s_snd \$0-mindist_s_rcv
empty -2 -8 0 10 -262144 -4160 -1 6873 1;
#X floatatom 16 102 5 0 0 0 - #0-mindist_a_rcv #0-mindist_a_snd;
#X floatatom 16 132 5 0 0 0 - #0-distthr_a_rcv #0-distthr_a_snd;
#X text 53 103 min.;
#X text 53 132 thr.;
#X obj 85 136 hsl 82 15 200 0.2 1 0 \$0-distthr_s_snd \$0-distthr_s_rcv
empty -2 -8 0 10 -262144 -258113 -1 6213 1;
#X obj 150 180 outlet class;
#X obj 101 15 cnv 15 73 76 empty empty empty 20 12 0 14 -228856 -66577
0;
#X obj 154 16 tgl 15 0 \$0-connect_tgl_snd \$0-connect_tgl_rcv empty
17 7 0 10 -262144 -1 -1 1 1;
#X text 100 13 connect;
#X obj 154 56 tgl 15 0 \$0-rec_tgl_snd \$0-rec_tgl_rcv empty 17 7 0
10 -262144 -1 -1 0 1;
#X obj 154 76 tgl 15 0 \$0-run_tgl_snd \$0-run_tgl_rcv empty 17 7 0
10 -262144 -1 -1 0 1;
#X text 107 73 detect;
#X text 113 53 learn;
#X obj 154 36 bng 15 250 50 0 \$0-clear_bng_snd \$0-clear_bng_rcv empty
17 7 0 10 -262144 -1 -1;
#X text 112 32 clear;
#N canvas 520 23 680 805 control_and_GUI 0;
#X obj 250 768 outlet;
#X obj 17 698 s \$0-learned_n_rcv;
#X obj -4 8 inlet commands;
#N canvas 0 22 347 122 clear 0;
#X obj 17 18 inlet;
#X obj 17 78 outlet;
#X msg 17 48 send /wekinator/control/deleteAllExamples;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore -3 728 pd clear;
#N canvas 697 22 698 294 record 0;
#X obj -3 -12 inlet;
#X obj 380 228 outlet;
#X msg 380 148 send /wekinator/control/stopDtwRecording;
#X msg 50 158 send /wekinator/control/startDtwRecording \$1;
#X obj -3 78 select 0;
#X text 247 18 class label to start recording or 0 to stop recording
;
#X obj -3 48 moses 21;
#X obj 50 18 + 1;
#X text 227 -2 INLET 1:;
#X text 227 48 INLET 2:;
#X text 247 68 maximum number of classes;
#X obj 50 -12 inlet;
#X connect 0 0 6 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 4 0 2 0;
#X connect 4 1 3 0;
#X connect 6 0 4 0;
#X connect 6 1 2 0;
#X connect 7 0 6 1;
#X connect 11 0 7 0;
#X restore 250 728 pd record;
#N canvas 295 358 541 162 run 0;
#X obj 267 129 outlet;
#X obj 7 8 inlet;
#X obj 7 48 select 0;
#X msg 7 89 send /wekinator/control/stopRunning;
#X msg 267 79 send /wekinator/control/startRunning;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X restore 456 728 pd run;
#X obj 167 638 cup;
#X msg 17 498 0;
#X msg 54 498 1;
#X obj 403 428 select 1;
#X obj 197 528 s \$0-rec_tgl_rcv;
#X obj 403 368 s \$0-run_tgl_rcv;
#X obj 197 558 r \$0-rec_tgl_snd;
#X obj 403 398 r \$0-run_tgl_snd;
#X obj -3 238 s \$0-clear_bng_rcv;
#X text 419 265 learn = record;
#X text 419 285 detect = run;
#X obj 403 458 t b b;
#X obj -3 298 t a b;
#X msg 403 498 1;
#X msg 197 328 0;
#X obj 17 668 f;
#X obj 197 588 select 1;
#X obj 27 628 bang;
#X msg 257 498 0;
#X obj 54 428 loadbang;
#X obj 323 168 s \$0-distthr_a_rcv;
#X obj 160 108 r \$0-distthr_a_snd;
#X msg 160 138 set \$1;
#X obj 160 168 s \$0-distthr_s_rcv;
#X obj 323 108 r \$0-distthr_s_snd;
#X msg 323 138 set \$1;
#X obj 310 638 r \$0-max_cl;
#X obj 67 108 s \$0-max_cl;
#X msg 454 138 3;
#X obj 490 8 loadbang;
#X obj 456 698 change;
#X obj 520 108 r \$0-clear_bng_snd;
#X obj 520 168 s \$0-mindist_a_rcv;
#X obj 490 198 s \$0-mindist_s_rcv;
#X msg 490 138 0;
#X obj -4 138 s \$0-connect_tgl_rcv;
#X obj -3 268 r \$0-clear_bng_snd;
#X obj 293 78 spigot;
#X obj 332 48 r \$0-connect_tgl_snd;
#X obj 293 198 route clear learn detect;
#X obj -4 38 route connect classes threshold;
#X obj 138 78 s \$0-distthr_a_rcv;
#X connect 2 0 46 0;
#X connect 3 0 0 0;
#X connect 4 0 0 0;
#X connect 5 0 0 0;
#X connect 6 0 4 0;
#X connect 6 0 21 1;
#X connect 7 0 21 0;
#X connect 8 0 6 0;
#X connect 9 0 17 0;
#X connect 9 1 36 0;
#X connect 12 0 22 0;
#X connect 13 0 9 0;
#X connect 17 0 19 0;
#X connect 17 1 24 0;
#X connect 18 0 3 0;
#X connect 18 0 7 0;
#X connect 18 0 8 0;
#X connect 18 1 20 0;
#X connect 19 0 36 0;
#X connect 20 0 11 0;
#X connect 20 0 10 0;
#X connect 21 0 1 0;
#X connect 22 0 6 0;
#X connect 22 1 4 0;
#X connect 22 1 23 0;
#X connect 23 0 21 0;
#X connect 24 0 10 0;
#X connect 25 0 8 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 30 0 31 0;
#X connect 31 0 26 0;
#X connect 32 0 4 1;
#X connect 34 0 26 0;
#X connect 35 0 34 0;
#X connect 35 0 40 0;
#X connect 36 0 5 0;
#X connect 37 0 40 0;
#X connect 40 0 38 0;
#X connect 40 0 39 0;
#X connect 42 0 18 0;
#X connect 43 0 45 0;
#X connect 44 0 43 1;
#X connect 45 0 14 0;
#X connect 45 1 10 0;
#X connect 45 2 11 0;
#X connect 46 0 41 0;
#X connect 46 1 33 0;
#X connect 46 2 47 0;
#X connect 46 3 43 0;
#X restore 315 40 pd control_and_GUI;
#X text 218 201 Juan Ignacio Mendoza - 2019;
#X obj 350 180 outlet mindist;
#X obj 250 180 outlet dists;
#X text 94 118 distance;
#X obj 463 140 r \$0-learned_n_rcv;
#N canvas 508 23 427 292 connection______ 0;
#X obj 93 145 udpsend;
#X obj 343 155 packOSC;
#X obj 263 185 udpreceive 12000;
#X obj 263 225 unpackOSC;
#X obj 158 5 inlet;
#X obj 263 255 outlet;
#X msg 93 95 connect localhost 6448;
#X obj 343 125 spigot;
#X msg 3 95 disconnect;
#X obj 3 65 select 0;
#X obj 343 5 inlet;
#X msg 158 35 send /wek/inputs \$1 \$2 \$3;
#X obj 3 35 r \$0-connect_tgl_snd;
#X msg 93 225 set \$1;
#X obj 93 255 s \$0-connect_tgl_rcv;
#N canvas 891 396 248 210 timeout 0;
#X obj 14 18 inlet;
#X obj 170 18 inlet;
#X obj 91 178 outlet;
#X obj 14 78 delay 4000;
#X obj 91 118 spigot;
#X obj 14 48 trigger bang bang;
#X msg 130 77 1;
#X msg 170 77 0;
#X msg 91 148 0;
#X obj 170 48 pipe 1000;
#X connect 0 0 5 0;
#X connect 1 0 9 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 2 0;
#X connect 9 0 7 0;
#X restore 3 185 pd timeout;
#N canvas 528 475 191 162 connected_message 0;
#X obj 18 17 inlet;
#X obj 18 47 select 1;
#X obj 18 107 print connected to;
#X msg 18 77 localhost 6448;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X restore 103 185 pd connected_message;
#X connect 0 0 7 1;
#X connect 0 0 15 1;
#X connect 0 0 13 0;
#X connect 0 0 16 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 11 0;
#X connect 6 0 0 0;
#X connect 6 0 15 0;
#X connect 7 0 1 0;
#X connect 8 0 0 0;
#X connect 9 0 8 0;
#X connect 9 1 6 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 12 0 9 0;
#X connect 13 0 14 0;
#X connect 15 0 13 0;
#X restore 185 80 pd connection______;
#X obj 463 180 outlet n_classes;
#X connect 1 0 17 0;
#X connect 1 1 30 0;
#X connect 1 2 29 0;
#X connect 2 0 33 0;
#X connect 4 0 27 0;
#X connect 27 0 33 1;
#X connect 32 0 34 0;
#X connect 33 0 1 0;
#X coords 0 -1 1 1 165 148 1 10 10;
