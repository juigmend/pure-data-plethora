#N canvas 627 318 662 405 12;
#X declare -lib Gem;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X obj 1 5 cnv 15 110 76 empty empty empty 20 12 0 14 -99865 -66577
0;
#X obj 3 7 cnv 15 106 72 empty empty empty 20 12 0 14 -262144 -66577
0;
#X obj 0 384 outlet x;
#X obj 98 384 outlet y;
#X obj 437 151 import Gem;
#N canvas 750 59 571 662 movement_hyperpix 1;
#X obj 106 128 pix_resize;
#X obj 24 194 pix_dump;
#X obj -18 343 list split 3;
#X msg -57 413 GREY;
#X obj 166 58 loadbang;
#X obj -57 383 loadbang;
#X obj -18 302 mtx_eq 0;
#X obj -87 -1 inlet gemlist;
#X obj 126 302 mtx_gt 0;
#X obj 126 343 list split 3;
#X obj 58 486 outlet gemlist pos;
#X obj -87 486 outlet gemlist neg;
#X obj -81 60 s \$0-mh_glist;
#X obj 58 383 r \$0-mh_glist;
#X obj 36 59 pix_grey;
#X obj -87 456 pix_set 20 20;
#X obj 58 453 pix_set 20 20;
#X obj 77 224 matrix 20 20;
#X obj 24 164 t b a;
#X msg 166 88 dimen 20 20;
#X obj 36 88 pix_movement 0.26;
#X obj 152 0 r \$0-thresh;
#X obj 196 224 create_blind_window;
#X obj 196 194 r \$0-mask;
#X obj 252 0 import iemmatrix;
#X obj 252 30 import hexloader;
#X connect 0 0 18 0;
#X connect 1 1 17 0;
#X connect 2 1 15 1;
#X connect 3 0 15 0;
#X connect 3 0 16 0;
#X connect 4 0 19 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 7 0 14 0;
#X connect 7 0 12 0;
#X connect 7 0 15 0;
#X connect 8 0 9 0;
#X connect 9 1 16 1;
#X connect 13 0 16 0;
#X connect 14 0 20 0;
#X connect 15 0 11 0;
#X connect 16 0 10 0;
#X connect 17 0 6 0;
#X connect 17 0 8 0;
#X connect 18 0 1 0;
#X connect 18 1 1 0;
#X connect 19 0 0 0;
#X connect 20 0 0 0;
#X connect 21 0 20 1;
#X connect 23 0 22 0;
#X restore 126 231 pd movement_hyperpix;
#X obj 196 384 outlet size;
#N canvas 137 177 753 422 video_source 0;
#X obj 242 374 outlet gemlist;
#X obj 242 234 pix_film;
#X obj 172 74 openpanel;
#X msg 212 104 open \$1;
#X obj 467 314 cup;
#X obj 467 254 metro;
#X obj 514 194 expr 1000/$f1;
#X msg 514 164 30;
#X text 553 162 <-- fps;
#X obj 514 124 pipe 100;
#X msg 232 144 1;
#X obj 232 174 s \$0-playtgl_rcv;
#X obj 514 224 i;
#X obj 268 294 unpack f f f;
#X obj 268 324 s \$0-movie_length;
#X obj 467 344 moses;
#X obj 514 374 s \$0-reset_movie;
#X obj 514 314 r \$0-movie_length;
#X msg 391 174 setbang 0;
#X floatatom 634 234 5 0 0 0 goto - -;
#X msg 594 274 setbang \$1;
#X obj -45 174 moses 1;
#X obj 271 74 r \$0-reset_movie;
#X msg 634 194 set \$1;
#X obj -45 25 r \$0-src_select_snd;
#X obj 514 24 r \$0-playtgl_snd;
#X obj 391 24 r \$0-vreset_snd;
#X obj 172 24 r \$0-vload_snd;
#X obj 40 174 gemhead;
#X msg 11 294 dialog;
#X obj 57 145 s \$0-playtgl_rcv;
#X msg 40 115 0;
#X obj 1 324 create_pix_video;
#X obj -45 56 t a a;
#X obj -13 85 select 1;
#X obj 11 265 t b a;
#X obj -13 145 s \$0-pv1;
#X msg -13 115 1;
#X obj 11 235 r \$0-videocam_tgl;
#X obj 1 205 gate_2;
#X connect 1 0 0 0;
#X connect 1 1 13 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 3 0 18 0;
#X connect 3 0 10 0;
#X connect 4 0 15 0;
#X connect 4 0 1 1;
#X connect 4 0 23 0;
#X connect 5 0 4 0;
#X connect 6 0 12 0;
#X connect 7 0 6 0;
#X connect 9 0 5 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 12 0 5 1;
#X connect 13 0 14 0;
#X connect 15 1 16 0;
#X connect 17 0 15 1;
#X connect 18 0 4 0;
#X connect 19 0 20 0;
#X connect 20 0 4 0;
#X connect 21 1 39 0;
#X connect 22 0 18 0;
#X connect 23 0 19 0;
#X connect 24 0 33 0;
#X connect 25 0 9 0;
#X connect 26 0 18 0;
#X connect 27 0 2 0;
#X connect 28 0 39 1;
#X connect 29 0 32 0;
#X connect 31 0 30 0;
#X connect 32 0 0 0;
#X connect 33 0 21 0;
#X connect 33 1 34 0;
#X connect 34 0 37 0;
#X connect 34 1 31 0;
#X connect 35 0 29 0;
#X connect 35 1 32 1;
#X connect 37 0 36 0;
#X connect 38 0 35 0;
#X connect 39 0 32 0;
#X connect 39 1 1 0;
#X restore 0 131 pd video_source;
#N canvas 326 371 390 397 gemwin_control 0;
#X msg 231 198 0 \, destroy;
#X obj 83 349 gemwin;
#X msg 51 168 create \, 1;
#X obj 51 138 delay 200;
#X obj 231 348 s \$0-playtgl_rcv;
#X msg 231 318 0;
#X obj 5 48 moses 1;
#X obj 51 198 t a b;
#X msg 83 228 dimen 600 200;
#X obj 5 8 r \$0-src_select_snd;
#X obj 231 8 r \$0-video_close_snd;
#X connect 0 0 1 0;
#X connect 0 0 5 0;
#X connect 2 0 7 0;
#X connect 3 0 2 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 6 1 3 0;
#X connect 7 0 1 0;
#X connect 7 1 8 0;
#X connect 8 0 1 0;
#X connect 9 0 6 0;
#X connect 10 0 0 0;
#X restore 0 101 pd gemwin_control;
#X obj 60 30 vradio 15 1 0 3 \$0-src_select_snd \$0-src_select_rcv
empty 0 -8 0 10 -262130 -1 -1 1;
#X text 26 29 none;
#X text 12 43 camera;
#X text 26 57 file;
#X obj 395 111 import iemmatrix;
#X obj 125 41 s \$0-src_select_rcv;
#X obj 125 1 inlet select_source;
#N canvas 0 22 189 183 display_raw 0;
#N canvas 157 461 316 389 translation 0;
#X obj -31 122 translate;
#X msg 56 92 \$1 \$2 \$3;
#X obj 56 62 pack f f f;
#X floatatom 44 -68 5 0 0 0 - - -;
#X floatatom 104 -68 5 0 0 0 - - -;
#X floatatom 164 -68 5 0 0 0 - - -;
#X msg 12 92 1;
#X obj 104 -28 t b f;
#X obj 164 -28 t b f;
#X obj 164 -137 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -31 152 outlet gemlist;
#X obj -31 -178 inlet gemlist;
#X obj 164 -178 loadbang;
#X msg 104 -107 0;
#X msg 44 -107 -4;
#X msg 164 -107 0.9;
#X connect 0 0 10 0;
#X connect 1 0 0 2;
#X connect 2 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 0 1;
#X connect 7 0 2 0;
#X connect 7 1 2 1;
#X connect 8 0 2 0;
#X connect 8 1 2 2;
#X connect 9 0 14 0;
#X connect 9 0 13 0;
#X connect 9 0 15 0;
#X connect 11 0 0 0;
#X connect 12 0 9 0;
#X connect 13 0 4 0;
#X connect 14 0 3 0;
#X connect 15 0 5 0;
#X restore 9 42 pd translation;
#X obj 9 82 pix_texture;
#X obj 9 112 rectangle 4 3;
#X obj 9 12 inlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 0 0;
#X restore 0 301 pd display_raw;
#N canvas 0 22 184 178 display_hyperpix 0;
#X obj 7 126 rectangle 4 3;
#X obj 7 96 pix_texture;
#N canvas 579 456 316 389 translation 0;
#X obj -31 122 translate;
#X msg 56 92 \$1 \$2 \$3;
#X obj 56 62 pack f f f;
#X floatatom 44 -68 5 0 0 0 - - -;
#X floatatom 104 -68 5 0 0 0 - - -;
#X floatatom 164 -68 5 0 0 0 - - -;
#X msg 12 92 1;
#X obj 104 -28 t b f;
#X obj 164 -28 t b f;
#X obj 164 -137 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj -31 152 outlet gemlist;
#X obj -31 -178 inlet gemlist;
#X obj 164 -178 loadbang;
#X msg 104 -107 0;
#X msg 164 -107 0;
#X msg 44 -107 8.2;
#X connect 0 0 10 0;
#X connect 1 0 0 2;
#X connect 2 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 8 0;
#X connect 6 0 0 1;
#X connect 7 0 2 0;
#X connect 7 1 2 1;
#X connect 8 0 2 0;
#X connect 8 1 2 2;
#X connect 9 0 15 0;
#X connect 9 0 13 0;
#X connect 9 0 14 0;
#X connect 11 0 0 0;
#X connect 12 0 9 0;
#X connect 13 0 4 0;
#X connect 14 0 5 0;
#X connect 15 0 3 0;
#X restore 7 56 pd translation;
#X obj 7 16 inlet;
#X connect 1 0 0 0;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X restore 126 301 pd display_hyperpix;
#N canvas 113 298 626 399 display_cursors 0;
#X floatatom 566 233 5 0 0 0 - - -;
#X obj 446 322 tgl 15 0 empty empty test_corners 17 7 0 10 -262144
-1 -1 0 1;
#X obj 353 142 r \$0-blob_x;
#X obj 376 172 r \$0-blob_y;
#X obj 399 202 r \$0-blob_s;
#X floatatom 422 233 5 0 0 0 - - -;
#X floatatom 470 233 5 0 0 0 - - -;
#X floatatom 518 233 5 0 0 0 - - -;
#X obj 190 32 inlet gl;
#X floatatom 266 233 5 0 0 0 - - -;
#X obj 146 322 tgl 15 0 empty empty test_corners 17 7 0 10 -262144
-1 -1 0 1;
#X obj 53 142 r \$0-blob_x;
#X obj 76 172 r \$0-blob_y;
#X obj 99 202 r \$0-blob_s;
#X floatatom 122 233 5 0 0 0 - - -;
#X floatatom 170 233 5 0 0 0 - - -;
#X floatatom 218 233 5 0 0 0 - - -;
#X obj 30 112 separator;
#X obj 330 112 separator;
#X obj 30 352 crosshair_display;
#X msg 122 292 -9.62 5.47 -2.07 4.13;
#X msg 422 292 -4.09 5.47 -2.07 4.13;
#X obj 330 352 crosshair_display;
#X obj 122 262 list_set_4;
#X obj 422 262 list_set_4;
#X obj 258 262 loadbang;
#X connect 0 0 24 3;
#X connect 1 0 22 5;
#X connect 2 0 22 1;
#X connect 3 0 22 2;
#X connect 4 0 22 3;
#X connect 5 0 24 0;
#X connect 6 0 24 1;
#X connect 7 0 24 2;
#X connect 8 0 17 0;
#X connect 8 0 18 0;
#X connect 9 0 23 3;
#X connect 10 0 19 5;
#X connect 11 0 19 1;
#X connect 12 0 19 2;
#X connect 13 0 19 3;
#X connect 14 0 23 0;
#X connect 15 0 23 1;
#X connect 16 0 23 2;
#X connect 17 0 19 0;
#X connect 18 0 22 0;
#X connect 20 0 19 4;
#X connect 21 0 22 4;
#X connect 23 0 20 0;
#X connect 24 0 21 0;
#X connect 25 0 20 0;
#X connect 25 0 21 0;
#X restore 394 301 pd display_cursors;
#X obj 394 231 separator;
#X obj 0 341 r \$0-blob_x;
#X obj 98 341 r \$0-blob_y;
#X obj 196 341 r \$0-blob_s;
#N canvas 10 23 366 388 blob_processor 0;
#X obj 17 8 inlet;
#X obj 34 358 s \$0-blob_x;
#X obj 52 248 s \$0-blob_y;
#X obj 70 138 s \$0-blob_s;
#X obj 17 78 pix_blob;
#X obj 17 48 pix_separator;
#X obj 34 328 average 1;
#X obj 52 218 average 1;
#X obj 70 108 average 1;
#X obj 204 158 r \$0-smooth_ctrl_snd;
#X obj 52 188 expr 1-$f1;
#X connect 0 0 5 0;
#X connect 4 1 6 0;
#X connect 4 2 10 0;
#X connect 4 3 8 0;
#X connect 5 0 4 0;
#X connect 6 0 1 0;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 9 0 6 1;
#X connect 9 0 7 1;
#X connect 9 0 8 1;
#X connect 10 0 7 0;
#X restore 263 267 pd blob_processor;
#N canvas 167 351 361 234 selector_process 0;
#X msg 184 95 1;
#X msg 144 178 \; pd-\$2-video_file_GUI vis \$1;
#X obj 144 147 pack f \$0;
#X obj 4 147 s \$0-videocam_tgl;
#X msg 104 95 1;
#X msg 64 95 0;
#X obj 77 7 r \$0-src_select_snd;
#X obj 77 37 select 0 1 2;
#X msg 144 95 0;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 5 0;
#X connect 7 0 8 0;
#X connect 7 1 4 0;
#X connect 7 1 8 0;
#X connect 7 2 0 0;
#X connect 7 2 5 0;
#X connect 8 0 2 0;
#X restore 134 101 pd selector_process;
#N canvas 556 22 193 117 \$0-video_file_GUI 0;
#N canvas 678 22 196 132 video_file_console 0;
#X obj 1 1 cnv 15 182 90 empty empty empty 20 12 0 14 -99865 -66577
0;
#X obj 3 3 cnv 15 178 86 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj 27 56 bng 23 250 50 0 \$0-vload_snd \$0-vload_rcv empty 0 -6
0 8 -260097 -66577 -1;
#X obj 101 56 tgl 23 0 \$0-playtgl_snd \$0-playtgl_rcv empty 17 7 0
10 -66577 -4034 -1 0 1;
#X text 18 31 load;
#X text 93 31 play;
#X obj 68 60 bng 15 250 50 0 \$0-vreset_snd \$0-vreset_rcv reset -7
-8 0 10 -262144 -1 -1;
#X obj 142 60 bng 15 250 50 0 \$0-video_close_snd \$0-video_close_rcv
close -7 -8 0 10 -262144 -1 -1;
#X text 56 7 VIDEO FILE;
#X coords 0 -1 1 1 184 92 2 0 0;
#X restore -20 6 pd video_file_console;
#X coords 0 0 1 1 184 92 0;
#X restore 134 131 pd \$0-video_file_GUI;
#X obj 80 32 vsl 15 40 1 8 0 0 \$0-smooth_ctrl_snd \$0-smooth_ctrl_rcv
empty 0 -9 0 10 -204786 -1 -1 0 1;
#X obj 275 71 s \$0-smooth_ctrl_rcv;
#X obj 17 7 cnv 15 50 20 empty empty video_blob 0 12 1 16 -262144 -162280
0;
#X obj 275 1 inlet smooth;
#X obj 425 71 s \$0-thresh;
#X text 286 368 Tested in Puredata Extended 0.42.5;
#X text 293 387 Juan Ignacio Mendoza Garay - 2018;
#X obj 425 1 inlet threshold;
#X obj 545 1 inlet mask;
#X obj 545 151 s \$0-mask;
#X text 563 39 cols start;
#X text 562 55 rows range;
#X text 563 27 cols range;
#X text 562 65 rows start;
#X connect 5 0 17 0;
#X connect 5 1 23 0;
#X connect 7 0 16 0;
#X connect 7 0 5 0;
#X connect 7 0 19 0;
#X connect 15 0 14 0;
#X connect 19 0 18 0;
#X connect 20 0 2 0;
#X connect 21 0 3 0;
#X connect 22 0 6 0;
#X connect 29 0 27 0;
#X connect 33 0 30 0;
#X connect 34 0 35 0;
#X coords 0 -1 1 1 112 86 1 0 0;
