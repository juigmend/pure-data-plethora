#N canvas 592 218 647 155 12;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib list-abs;
#X declare -lib iemmatrix;
#X declare -lib smlib;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X declare -lib iemmatrix;
#X declare -lib iemmatrix;
#X declare -lib hexloader;
#X obj 523 1 inlet reset;
#X obj 321 91 outlet pk;
#X obj 219 91 outlet nov;
#X obj 321 1 inlet parameters;
#X obj 1 4 cnv 15 208 102 empty empty empty 20 12 0 14 -128992 -99865
0;
#X obj 3 6 cnv 15 204 98 empty empty empty 20 12 0 14 -241405 -66577
0;
#X obj 124 9 bng 21 250 50 0 \$0-pk_snd \$0-pk_rcv empty 12 14 0 10
-1 -204786 -262144;
#X obj 186 36 vsl 17 61 0 1 0 0 foo_snd \$0-nov no. 1 16 0 9 -66577
-204800 -162280 3 1;
#X obj 168 36 vsl 17 61 0 1 0 0 \$0-pt_a_rcv \$0-pt_slider_rcv th.
0 16 0 9 -262144 -258113 -128992 0 1;
#X floatatom 13 71 3 0 0 0 - #0-w_a_rcv #0-w_a_snd;
#X text 4 87 window;
#X obj 129 42 bng 15 250 50 0 \$0-reset_snd \$0-reset_rcv empty 17
2 0 10 -258113 -1 -1;
#X text 90 38 reset;
#X floatatom 118 71 4 0 0 0 - #0-pt_a_rcv #0-pt_a_snd;
#X obj 16 9 cnv 15 30 10 empty empty NOVELTY_ND 0 10 1 14 -241405 -1
0;
#X text 110 86 thresh.;
#X text 147 15 detected;
#X obj 13 42 bng 15 250 50 0 \$0-display_mtx_snd \$0-display_mtx_rcv
empty 17 2 0 10 -204800 -1 -1;
#X text 28 39 display;
#N canvas 705 558 515 447 segmentation 0;
#N canvas 287 295 274 239 peaks 0;
#X obj 10 16 inlet y;
#X obj 112 196 outlet;
#X obj 112 16 inlet threshold;
#X obj 10 76 local_max;
#X text 119 116 prevent double-taps;
#X obj 10 116 interrupt 250;
#X obj 80 166 moses;
#X connect 0 0 3 0;
#X connect 2 0 6 1;
#X connect 3 0 5 0;
#X connect 5 0 6 0;
#X connect 6 1 1 0;
#X restore 304 239 pd peaks;
#X obj -30 219 vradio 20 1 0 3 \$0-ns_select_mv_snd \$0-ns_select_mv_rcv
empty 0 -8 0 10 -262144 -1 -1 0;
#X obj -30 289 tgl 20 0 \$0-ns_select_mv_norm_snd \$0-ns_select_mv_norm_rcv
empty 17 7 0 10 -262144 -1 -1 0 1;
#X text -9 219 none;
#X text -9 239 distance;
#X text -8 258 kernel;
#X text -8 287 normalise;
#X obj 275 99 int;
#N canvas 527 573 256 281 gauss_filter 0;
#X obj 24 16 inlet signal;
#X obj 134 16 inlet size;
#X obj 131 246 outlet;
#X obj 131 215 gauss_filter;
#X obj 24 185 spigot;
#X obj 95 185 spigot;
#X obj 104 146 abs;
#X obj 104 116 - 1;
#X obj 134 46 t f f;
#X obj 134 76 > 1;
#X obj 166 185 moses 2;
#X connect 0 0 4 0;
#X connect 0 0 5 0;
#X connect 1 0 8 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 8 1 10 0;
#X connect 9 0 7 0;
#X connect 9 0 5 1;
#X connect 10 1 3 1;
#X restore 90 139 pd gauss_filter;
#X obj 275 69 * 1;
#X obj 90 199 autoscale;
#X obj -44 -51 inlet;
#X obj 230 -51 inlet;
#X obj 90 339 outlet;
#X obj 378 339 outlet;
#X obj 121 -51 r \$0-reset_snd;
#X obj 150 169 r \$0-reset_snd;
#X obj 110 269 s \$0-nov;
#X text -45 190 DISPLAY:;
#X text -45 170 HEATMAP;
#N canvas 0 22 352 313 pk_GUI 0;
#X obj 240 78 s \$0-pk_rcv;
#X obj 0 78 r \$0-pk_snd;
#X obj 89 18 inlet;
#X obj 0 268 outlet;
#X obj 0 228 spigot;
#X obj 89 138 delay 100;
#X msg 89 178 1;
#X msg 164 178 0;
#X obj 89 48 trigger bang bang bang;
#X obj 20 108 loadbang;
#X connect 1 0 4 0;
#X connect 2 0 8 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 4 1;
#X connect 7 0 4 1;
#X connect 8 0 5 0;
#X connect 8 1 7 0;
#X connect 8 2 0 0;
#X connect 9 0 6 0;
#X restore 304 299 pd pk_GUI;
#X obj 304 269 trigger b a;
#N canvas 941 604 493 392 checkerboard_correlation_ND 0;
#X obj 186 8 import iemmatrix;
#X obj -109 330 outlet novelty;
#X text -174 112 (1);
#X text 58 113 (2);
#X obj 88 330 outlet K;
#X obj 186 38 import hexloader;
#X text -174 181 (3);
#X text -174 270 (4);
#X obj 88 202 mtx_tril;
#X text -147 82 (c.f. Foote 2000);
#X obj -149 270 mtx_mul;
#X text -167 62 4) product with gaussian-tapered checkerboard kernel
;
#X obj 88 172 gausstaper_checkerboard_kernel;
#X obj 4 330 outlet ssm;
#X obj -149 300 list split 3;
#X obj -149 112 inlet ND;
#X text -167 5 1) N-Dimensional signal (stream of lists);
#X obj -149 182 olssm_ND;
#X obj 88 112 inlet N_n;
#X msg 88 142 \$2;
#X text -167 24 2) number of dimensions (N) and window size (n);
#X text -167 43 3) taxicab distance self-similarity matrix;
#X connect 8 0 10 1;
#X connect 8 0 4 0;
#X connect 10 0 14 0;
#X connect 12 0 8 0;
#X connect 14 1 1 0;
#X connect 15 0 17 0;
#X connect 17 0 13 0;
#X connect 17 0 10 0;
#X connect 18 0 19 0;
#X connect 18 0 17 1;
#X connect 19 0 12 0;
#X restore -45 69 pd checkerboard_correlation_ND;
#X obj -44 9 s \$0-rs_ND;
#X obj -45 39 r \$0-rs_ND;
#X obj -44 -24 list-autoscale 0.01 0.99;
#N canvas 242 319 556 357 display_____ 0;
#X obj 7 6 inlet d;
#X obj 487 6 inlet K;
#X obj 287 246 mtx;
#X obj 7 196 spigot;
#X msg 46 156 1;
#X msg 86 156 0;
#X obj 157 66 select 0 1 2;
#X msg 157 127 0;
#X msg 211 157 1;
#X obj 287 216 bang;
#X obj 287 186 spigot;
#X msg 326 146 1;
#X msg 376 146 0;
#X obj 157 36 r \$0-ns_select_mv_snd;
#X obj 287 66 r \$0-ns_select_mv_norm_snd;
#X obj 57 256 spigot;
#X msg 96 196 1;
#X msg 116 256 0;
#X obj 487 136 t b a;
#N canvas 506 490 235 244 display_mtx_btn 0;
#X obj 11 212 s \$0-ns_select_mv_rcv;
#X obj 31 182 s \$0-ns_select_mv_norm_rcv;
#X obj 31 42 r \$0-ns_select_mv_snd;
#X obj 11 12 r \$0-display_mtx_snd;
#X obj 11 142 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 31 112 set \$1;
#X obj 31 82 > 0;
#X obj 106 82 select 2;
#X msg 106 112 1;
#X connect 2 0 6 0;
#X connect 2 0 7 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 4 0 1 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X restore 343 316 pd display_mtx_btn;
#X obj 287 276 mtx_squareform;
#X obj 157 326 heatmap __;
#X obj 47 36 loadbang;
#X connect 0 0 3 0;
#X connect 1 0 18 0;
#X connect 2 0 20 0;
#X connect 3 0 20 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 6 1 4 0;
#X connect 6 1 12 0;
#X connect 6 2 2 0;
#X connect 6 2 5 0;
#X connect 6 2 8 0;
#X connect 6 2 11 0;
#X connect 7 0 5 0;
#X connect 7 0 16 0;
#X connect 7 0 21 0;
#X connect 8 0 15 0;
#X connect 8 0 21 4;
#X connect 9 0 2 0;
#X connect 10 0 9 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 6 0;
#X connect 14 0 10 0;
#X connect 14 0 21 1;
#X connect 15 0 17 0;
#X connect 15 0 21 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 10 0;
#X connect 18 1 2 1;
#X connect 20 0 21 2;
#X connect 22 0 7 0;
#X restore 59 99 pd display_____;
#X obj 262 19 unpack f f f f;
#X obj 230 -21 t a a;
#X obj 162 19 list split 2;
#X connect 0 0 21 0;
#X connect 7 0 8 1;
#X connect 8 0 10 0;
#X connect 9 0 7 0;
#X connect 10 0 17 0;
#X connect 10 0 0 0;
#X connect 10 0 13 0;
#X connect 11 0 25 0;
#X connect 12 0 28 0;
#X connect 15 0 25 3;
#X connect 16 0 10 3;
#X connect 20 0 14 0;
#X connect 21 0 20 0;
#X connect 21 1 14 0;
#X connect 22 0 8 0;
#X connect 22 1 26 0;
#X connect 22 2 26 1;
#X connect 24 0 22 0;
#X connect 25 0 23 0;
#X connect 27 1 9 1;
#X connect 27 2 9 0;
#X connect 27 3 0 1;
#X connect 28 0 29 0;
#X connect 28 1 27 0;
#X connect 29 0 22 1;
#X restore 219 61 pd segmentation;
#X floatatom 62 71 4 0 0 0 - #0-smooth_rcv #0-smooth_snd;
#X text 54 86 smooth;
#X obj 500 91 outlet parameters;
#N canvas 229 116 776 527 make_parameters_list___ 0;
#X obj -47 33 inlet;
#X text -47 4 send to GUI:;
#X obj 543 233 t b a;
#X obj 575 353 s \$0-pt_slider_rcv;
#X msg 575 323 set \$1;
#X obj 481 173 t b a;
#X obj 481 485 outlet;
#X text 477 4 receive from GUI:;
#X obj -47 483 s \$0-w_a_rcv;
#X obj 30 323 s \$0-pt_a_rcv;
#X obj -9 383 s \$0-smooth_rcv;
#X obj 541 485 outlet;
#X obj 479 113 r \$0-w_a_snd;
#X obj 481 143 r \$0-smooth_snd;
#X obj 543 203 r \$0-pt_a_snd;
#X msg 30 293 set \$1;
#X msg -9 353 set \$1;
#X msg -47 453 set \$1;
#N canvas 246 560 543 350 wsize_processor 0;
#X obj 26 4 inlet window_size;
#X obj 184 304 outlet;
#X text 175 59 convert input to nearest upper even number;
#X text 175 19 allow numbers equal or greater than 2;
#X obj 128 184 i;
#X obj 128 244 mod 2;
#X obj 26 34 moses 2;
#X obj 184 274 +;
#X obj 72 144 delay;
#X obj 128 214 trigger a a;
#X obj 72 84 trigger a a;
#X text 175 39 allow last of a stream of numbers within X ms;
#X msg 72 114 1;
#X connect 0 0 6 0;
#X connect 4 0 9 0;
#X connect 5 0 7 0;
#X connect 6 1 10 0;
#X connect 7 0 1 0;
#X connect 8 0 4 0;
#X connect 9 0 5 0;
#X connect 9 1 7 1;
#X connect 10 0 12 0;
#X connect 10 1 4 1;
#X connect 12 0 8 0;
#X restore 168 293 pd wsize_processor;
#X obj 303 332 t a a;
#X text 99 3 1) N (number of dimensions / features);
#X text 99 23 2) n_nov (novelty window size);
#X text 99 43 3) n_filt/n_nov (smooth);
#X text 100 63 4) theta (peak threshold);
#N canvas 409 610 207 192 init_trig 0;
#X obj 99 13 inlet;
#X obj -31 43 loadbang;
#X obj 20 127 spigot;
#X obj -31 83 delay 1000;
#X msg 59 83 1;
#X msg 99 83 0;
#X obj 20 157 outlet;
#X obj 99 43 bang;
#X connect 0 0 7 0;
#X connect 1 0 4 0;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 2 1;
#X connect 7 0 5 0;
#X restore 8 93 pd init_trig;
#X msg 8 123 \$2 \$3 \$4 \$1;
#X obj -47 193 unpack 12 1 0.2 3;
#X text 102 124 N to the end so that wsize triggers pack below;
#X obj 481 403 pack f f f f;
#X text 575 434 N back to the top;
#X msg 481 433 \$4 \$1 \$2 \$3;
#X connect 0 0 24 0;
#X connect 0 0 25 0;
#X connect 2 0 28 0;
#X connect 2 1 4 0;
#X connect 2 1 28 2;
#X connect 4 0 3 0;
#X connect 5 0 28 0;
#X connect 5 1 28 1;
#X connect 12 0 18 0;
#X connect 13 0 5 0;
#X connect 14 0 2 0;
#X connect 15 0 9 0;
#X connect 16 0 10 0;
#X connect 17 0 8 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 19 1 28 0;
#X connect 24 0 26 0;
#X connect 25 0 26 0;
#X connect 26 0 18 0;
#X connect 26 1 16 0;
#X connect 26 1 28 1;
#X connect 26 2 15 0;
#X connect 26 2 28 2;
#X connect 26 3 28 3;
#X connect 28 0 30 0;
#X connect 30 0 6 0;
#X connect 30 0 11 0;
#X restore 321 31 pd make_parameters_list___;
#X obj 523 31 s \$0-reset_rcv;
#X text 147 4 boundary;
#N canvas 0 22 450 300 to-do 0;
#X text 21 10 Make a compressor to rescale the signal \, with an adjustable
;
#X text 21 30 decay time. (???);
#X restore 69 121 pd to-do;
#X obj 219 1 inlet signal;
#X obj 397 91 outlet sig_rs;
#X obj 397 61 r \$0-rs_ND;
#X text 238 121 Juan Ignacio Mendoza G. - 2022;
#X connect 0 0 24 0;
#X connect 3 0 23 0;
#X connect 19 0 2 0;
#X connect 19 1 1 0;
#X connect 23 0 19 1;
#X connect 23 1 22 0;
#X connect 27 0 19 0;
#X connect 29 0 28 0;
#X coords 0 -1 1 1 210 110 2 0 0;
